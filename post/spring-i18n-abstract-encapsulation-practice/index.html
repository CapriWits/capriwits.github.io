<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" Spring i18n æŠ½è±¡å°è£…å®è·µ Spring å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨ æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½ å®šä¹‰æ¥å£ ç®€å• i18n æ¶ˆæ¯ å¤æ‚ i18n æ¶ˆæ¯ i18n å·¥å…·ç±» ä½¿ç”¨ æ€»ç»“ Spring i18n æŠ½è±¡å°è£…å®è·µ "><title>Spring i18n æŠ½è±¡å°è£…å®è·µ</title>
<link rel=canonical href=https://capriwits.com/post/spring-i18n-abstract-encapsulation-practice/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Spring i18n æŠ½è±¡å°è£…å®è·µ"><meta property='og:description' content=" Spring i18n æŠ½è±¡å°è£…å®è·µ Spring å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨ æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½ å®šä¹‰æ¥å£ ç®€å• i18n æ¶ˆæ¯ å¤æ‚ i18n æ¶ˆæ¯ i18n å·¥å…·ç±» ä½¿ç”¨ æ€»ç»“ Spring i18n æŠ½è±¡å°è£…å®è·µ "><meta property='og:url' content='https://capriwits.com/post/spring-i18n-abstract-encapsulation-practice/'><meta property='og:site_name' content="Capriwits's site"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Java'><meta property='article:tag' content='Spring'><meta property='article:published_time' content='2024-09-11T15:03:29+08:00'><meta property='article:modified_time' content='2024-09-11T15:03:29+08:00'><meta property='og:image' content='https://capriwits.com/post/spring-i18n-abstract-encapsulation-practice/spring-cover.png'><meta name=twitter:title content="Spring i18n æŠ½è±¡å°è£…å®è·µ"><meta name=twitter:description content=" Spring i18n æŠ½è±¡å°è£…å®è·µ Spring å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨ æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½ å®šä¹‰æ¥å£ ç®€å• i18n æ¶ˆæ¯ å¤æ‚ i18n æ¶ˆæ¯ i18n å·¥å…·ç±» ä½¿ç”¨ æ€»ç»“ Spring i18n æŠ½è±¡å°è£…å®è·µ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://capriwits.com/post/spring-i18n-abstract-encapsulation-practice/spring-cover.png'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu5425474801781991629.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸŒ¹</span></figure><div class=site-meta><h1 class=site-name><a href=/>Capriwits's site</a></h1><h2 class=site-description>To see the world as it is and to love it.</h2></div></header><ol class=menu-social><li><a href=https://github.com/CapriWits target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto://hypocrite30@foxmail.com target=_blank title=Mail rel=me><!doctype html><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="212.795" height="220.59" viewBox="0 0 212.795 220.59" enable-background="new 0 0 212.795 220.59"><path fill="#f7b63e" d="M206.382 36.693v138.896c0 2.718-2.207 4.924-4.926 4.924H11.338c-2.719.0-4.925-2.206-4.925-4.924V36.693l73.042 69.448 26.943 25.612 26.941-25.612 73.043-69.448z"/><path fill="#10003b" d="M201.456 182.514H11.338c-3.819.0-6.925-3.106-6.925-6.925V36.694c0-.8.477-1.523 1.211-1.838.736-.315 1.588-.163 2.167.389l98.606 93.749 98.606-93.749c.579-.552 1.432-.704 2.167-.389.734.315 1.211 1.038 1.211 1.838v138.895C208.382 179.408 205.275 182.514 201.456 182.514M8.413 41.354v134.234c0 1.613 1.312 2.925 2.925 2.925h190.118c1.613.0 2.926-1.312 2.926-2.925V41.354l-96.606 91.848c-.771.734-1.984.734-2.756.0L8.413 41.354z"/><path fill="#ffd161" d="M206.382 36.693l-73.043 69.448-26.941 25.612-26.943-25.612L6.413 36.693c0-2.719 2.206-4.925 4.925-4.925h190.118C204.175 31.769 206.382 33.975 206.382 36.693"/><path fill="#10003b" d="M106.398 133.753c-.496.0-.993-.184-1.378-.551L5.035 38.143c-.397-.377-.622-.901-.622-1.449.0-3.818 3.107-6.925 6.925-6.925h190.118c3.82.0 6.926 3.107 6.926 6.925.0.548-.225 1.072-.622 1.449l-99.984 95.06C107.39 133.569 106.894 133.753 106.398 133.753M8.514 35.931l97.884 93.063 97.883-93.063c-.337-1.244-1.476-2.162-2.825-2.162H11.338C9.988 33.769 8.85 34.687 8.514 35.931M206.382 36.693h.01H206.382z"/><path fill="#f7b63e" d="M206.382 175.589c0 2.719-2.207 4.925-4.926 4.925H11.338c-2.719.0-4.925-2.206-4.925-4.925l73.042-69.447 26.943 25.611 26.941-25.611 73.043 69.447z"/><path fill="#10003b" d="M201.456 182.514H11.338c-3.818.0-6.925-3.106-6.925-6.925.0-.548.225-1.072.622-1.449l73.042-69.447c.772-.735 1.985-.735 2.756.0l25.565 24.301 25.563-24.301c.771-.735 1.984-.735 2.756.0l73.043 69.447c.398.377.622.901.622 1.449C208.382 179.408 205.275 182.514 201.456 182.514M8.514 176.352c.336 1.244 1.475 2.162 2.824 2.162h190.118c1.35.0 2.489-.918 2.826-2.162l-70.943-67.45-25.563 24.301c-.772.734-1.985.734-2.756.0l-25.565-24.301-70.941 67.45z"/><polygon fill="#ffd161" points="79.456,106.141 6.416,175.593 6.416,36.69"/><path fill="#10003b" d="M6.416 177.593c-.267.0-.534-.053-.788-.162-.735-.315-1.212-1.038-1.212-1.838V36.69c0-.8.477-1.523 1.211-1.838.736-.315 1.588-.162 2.167.389l73.04 69.451c.397.377.622.901.622 1.449s-.225 1.072-.622 1.449l-73.04 69.452C7.415 177.403 6.919 177.593 6.416 177.593m2-136.242v129.581l68.138-64.791L8.416 41.351z"/><path fill="#10003b" d="M152.941 47.313h-62.06c-1.104.0-2-.896-2-2s.896-2 2-2h62.06c1.104.0 2 .896 2 2 0 1.105-.89500000000001 2-2 2"/><path fill="#10003b" d="M80.293 47.313h-20.44c-1.105.0-2-.896-2-2s.895-2 2-2h20.44c1.104.0 2 .896 2 2 0 1.105-.896000000000001 2-2 2"/><path fill="#10003b" d="M19.219 129.813c-1.104.0-2-.896-2-2V91.12c0-1.105.896-2 2-2s2 .895 2 2v36.693C21.219 128.917 20.323 129.813 19.219 129.813"/></svg></a></li><li><a href=https://twitter.com/noctambulist30 target=_blank title=Twitter rel=me><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><style>.st0{fill:#0cf}.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}</style><g><g><g><path class="st0" d="M503.6277 98.9293c-15.8539 7.1724-33.3008 11.5266-50.4099 14.3986 8.1227-1.3628 20.0931-16.0676 24.8777-22.0133 7.3009-9.0701 13.3735-19.4058 16.7879-30.5663.4348-.8711.7665-1.9664-.1046-2.6269-1.0953-.4348-1.8006-.2122-2.6717.2241-19.0965 10.2326-38.8504 17.6575-59.8715 22.9113-1.7423.4363-3.0348.0-4.1301-1.0938-1.7408-1.9679-3.3785-3.8208-5.2328-5.3524-8.8355-7.5176-18.3165-13.4154-29.0048-17.7711-14.0355-5.7215-29.3694-8.1451-44.4853-7.1649-14.7064.9548-29.1497 5.1014-42.2035 11.9211-13.0806 6.8347-24.7522 16.3411-34.0464 27.8109-9.614 11.8628-16.7042 25.8744-20.3337 40.7227-3.504 14.3313-3.2171 28.5087-1.0788 42.997.3242 2.4013.1136 2.7255-2.0636 2.4013C167.4175 163.4898 99.2485 134.0606 43.912 71.0033c-2.4027-2.7375-3.7072-2.7375-5.6752.2107-24.2158 36.2953-12.4665 94.6127 17.7845 123.2694 4.0315 3.8208 8.1765 7.6416 12.6443 11.1262-1.6302.3347-21.7622-1.8454-39.7007-11.1262-2.4027-1.5182-3.6086-.647-3.8208 2.0785-.2226 3.9209.1121 7.5295.65 11.7851 4.6471 36.7928 30.1285 70.8273 65.0222 84.1052 4.145 1.7423 8.7249 3.2724 13.1942 4.0315-7.9524 1.7423-16.1409 2.99-38.9416 1.2058-2.8376-.5454-3.9209.8727-2.8376 3.5981 17.1345 46.6997 54.1186 60.5932 81.816 68.5098 3.7072.6485 7.4174.6485 11.1351 1.5197-.2227.3347-.4453.3347-.6575.6589-9.1881 14.0056-41.041 24.4295-55.8729 29.613-26.9756 9.4272-56.3481 13.6694-84.8568 10.8587-4.5634-.6694-5.5212-.6201-6.7585.0-1.2522.774-.1584 1.8633 1.306 3.0497 5.7872 3.8193 11.6746 7.2053 17.674 10.4792 18.1073 9.5946 36.9841 17.2346 56.7231 22.6872 101.939 28.1516 216.7675 7.4653 293.3088-68.583 60.1076-59.7206 81.1735-142.0775 81.1735-224.539.0-3.2276 3.8133-5.0102 6.0801-6.7122 15.6388-11.7508 28.068-25.8116 39.7336-41.5132 2.6209-3.5279 2.4595-6.6643 2.4595-7.9524.0-.2226.0-.4348.0-.4348C505.4955 97.6114 505.6569 98.0074 503.6277 98.9293z"/></g><g><path class="st1" d="M154.6851 458.9174c42.2722.0 2.0291.0.0.0 5.56299999999999.0-.224199999999996.0.0.0z"/></g><g><path class="st1" d="M154.6851 458.9174c-.656000000000006.0508000000000379-8.2363.0.0.0.0.0-1.31950000000001.0.0.0z"/></g><g><path class="st1" d="M171.4849 459.3537c0-.841200000000015 8.84139999999999.0.0.0.0-.436300000000017 1.0848.0.0.0z"/></g><g><path class="st1" d="M347.9839 50.2692c-.5484.4348-1.3075.4348-2.0651.0C346.6764 50.2692 347.4355 50.2692 347.9839 50.2692z"/></g></g></g></svg></a></li><li><a href=https://t.me/capriwits target=_blank title=Telegram rel=me><svg width="256" height="256" viewBox="0 0 256 256" preserveAspectRatio="xMidYMid"><title>Telegram</title><defs><linearGradient x1="50%" y1="277555756e-23%" x2="50%" y2="100%" id="telegramLinearGradient-1"><stop stop-color="#2aabee" offset="0"/><stop stop-color="#229ed9" offset="100%"/></linearGradient></defs><g><path d="M128 0C94.06.0 61.48 13.494 37.5 37.49 13.5 61.486.0 94.066.0 128s13.5 66.514 37.5 90.51C61.48 242.506 94.06 256 128 256s66.52-13.494 90.5-37.49c24-23.996 37.5-56.576 37.5-90.51s-13.5-66.514-37.5-90.51C194.52 13.494 161.94.0 128 0z" fill="url(#telegramLinearGradient-1)"/><path d="M57.94 126.6476c37.32-16.256 62.2-26.974 74.64-32.152 35.56-14.786 42.94-17.354 47.76-17.4408458C181.4 77.0376 183.76 77.2996 185.3 78.5456 186.58 79.5956 186.94 81.0156 187.12 82.0116 187.28 83.0076 187.5 85.2776 187.32 87.0496 185.4 107.2896 177.06 156.4056 172.82 179.0756 171.04 188.668 167.5 191.884 164.08 192.198 156.64 192.882 151 187.286 143.8 182.5676c-11.26-7.386-17.62-11.982-28.56-19.188C102.6 155.0516 110.8 150.4736 118 142.9936c1.88-1.958 34.64-31.748 35.26-34.45C153.34 108.2056 153.42 106.9456 152.66 106.2816 151.92 105.6156 150.82 105.8436 150.02 106.0236c-1.14000000000001.256-19.12 12.152-54 35.686C90.92 145.2176 86.3 146.9276 82.14 146.8376 77.58 146.7396 68.78 144.2536 62.24 142.1296 54.24 139.5236 47.86 138.1456 48.42 133.7196 48.7 131.4156 51.88 129.0576 57.94 126.6476z" fill="#fff"/></g></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/link/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>å‹é“¾</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#spring-å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨>Spring å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨</a></li><li><a href=#æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½>æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½</a><ol><li><a href=#å®šä¹‰æ¥å£>å®šä¹‰æ¥å£</a></li><li><a href=#ç®€å•-i18n-æ¶ˆæ¯>ç®€å• i18n æ¶ˆæ¯</a></li><li><a href=#å¤æ‚-i18n-æ¶ˆæ¯>å¤æ‚ i18n æ¶ˆæ¯</a></li><li><a href=#i18n-å·¥å…·ç±»>i18n å·¥å…·ç±»</a></li><li><a href=#ä½¿ç”¨>ä½¿ç”¨</a></li></ol></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/spring-i18n-abstract-encapsulation-practice/><img src=/post/spring-i18n-abstract-encapsulation-practice/spring-cover_hu15824543596330803333.png srcset="/post/spring-i18n-abstract-encapsulation-practice/spring-cover_hu15824543596330803333.png 800w, /post/spring-i18n-abstract-encapsulation-practice/spring-cover_hu9563493598107212195.png 1600w" width=800 height=206 loading=lazy alt="Featured image of post Spring i18n æŠ½è±¡å°è£…å®è·µ"></a></div><div class=article-details><header class=article-category><a href=/categories/backend/>Backend</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/spring-i18n-abstract-encapsulation-practice/>Spring i18n æŠ½è±¡å°è£…å®è·µ</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 11, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 7 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><ul><li><a class=link href=#spring-i18n-%e6%8a%bd%e8%b1%a1%e5%b0%81%e8%a3%85%e5%ae%9e%e8%b7%b5>Spring i18n æŠ½è±¡å°è£…å®è·µ</a><ul><li><a class=link href=#spring-%e5%9b%bd%e9%99%85%e5%8c%96%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8>Spring å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨</a></li><li><a class=link href=#%e6%8a%bd%e8%b1%a1%e5%9b%bd%e9%99%85%e5%8c%96%e5%8a%9f%e8%83%bd>æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½</a><ul><li><a class=link href=#%e5%ae%9a%e4%b9%89%e6%8e%a5%e5%8f%a3>å®šä¹‰æ¥å£</a></li><li><a class=link href=#%e7%ae%80%e5%8d%95-i18n-%e6%b6%88%e6%81%af>ç®€å• i18n æ¶ˆæ¯</a></li><li><a class=link href=#%e5%a4%8d%e6%9d%82-i18n-%e6%b6%88%e6%81%af>å¤æ‚ i18n æ¶ˆæ¯</a></li><li><a class=link href=#i18n-%e5%b7%a5%e5%85%b7%e7%b1%bb>i18n å·¥å…·ç±»</a></li><li><a class=link href=#%e4%bd%bf%e7%94%a8>ä½¿ç”¨</a></li></ul></li><li><a class=link href=#%e6%80%bb%e7%bb%93>æ€»ç»“</a></li></ul></li></ul><h1 id=spring-i18n-æŠ½è±¡å°è£…å®è·µ>Spring i18n æŠ½è±¡å°è£…å®è·µ</h1><p><img src=https://img.shields.io/badge/JDK-1.8-B3CAD8 loading=lazy><br><img src=https://img.shields.io/badge/spring--web-5.3.31-DBD4C6 loading=lazy></p><h2 id=spring-å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨>Spring å›½é™…åŒ–åŸºæœ¬ä½¿ç”¨</h2><ol><li>é¦–å…ˆ maven å¼•å…¥ <code>spring-web</code> çš„ä¾èµ–</li><li>åœ¨ <code>resources</code> ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ”¾å›½é™…åŒ–æ–‡æœ¬çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ <code>/resources/i18n/</code>ï¼Œç„¶åä¿®æ”¹ <code>resources/application.yml</code> é…ç½®æ–‡ä»¶</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>messages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>basename</span><span class=p>:</span><span class=w> </span><span class=l>i18n/messages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>encoding</span><span class=p>:</span><span class=w> </span><span class=l>UTF-8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>useCodeAsDefaultMessage</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>basename</code> æŒ‡å®šç¿»è¯‘æ–‡æœ¬çš„å‰ç¼€ï¼Œå¯ä»¥å¸¦ç›¸å¯¹è·¯å¾„ï¼Œå³ i18n æ–‡ä»¶å¤¹ã€‚ <code>messages</code> æ˜¯æ–‡æœ¬å‰ç¼€ï¼Œæ–‡æœ¬åç¤ºä¾‹ï¼š<code>messages.properties</code>ï¼ˆé»˜è®¤æ–‡æœ¬ï¼Œ<code>messages_en.properties</code>ï¼ˆè‹±æ–‡ï¼Œ<code>messages_zh.properties</code>ï¼ˆç®€ä½“ä¸­æ–‡</p><ol start=3><li>æ–‡æœ¬æ–‡ä»¶æ ¼å¼</li></ol><p>æœ‰ä¸¤ç§ï¼Œä¸€ç§ç›´æ¥ k-v ç»“æ„ç¿»è¯‘ï¼Œ<code>key = value</code>ï¼Œç¿»è¯‘æ—¶ä¼  keyï¼Œç›´æ¥è¿”å› value çš„å­—ç¬¦ä¸²ï¼›</p><p>å¦ä¸€ç§ç”¨å ä½ç¬¦å¤§æ‹¬å· <code>{0} {1} {2}â€¦</code></p><ul><li><code>messages_en_US.properties</code>ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>greeting</span><span class=o>=</span>Hello, <span class=o>{</span>0<span class=o>}</span>!
</span></span></code></pre></td></tr></table></div></div><ul><li><code>messages_zh_CN.properties</code>ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>greeting</span><span class=o>=</span>ä½ å¥½ï¼Œ<span class=o>{</span>0<span class=o>}</span>ï¼
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>ä½¿ç”¨ <code>MessageSource</code> è·å– i18n æ–‡æœ¬</li></ol><ul><li>å‰ç«¯ä¼  url å‚æ•° langï¼ŒæŒ‡å®šè¯­è¨€</li><li>å½“ç”¨æˆ·è®¿é—® <code>/greet?name=John&amp;lang=zh_CN</code> æ—¶ï¼Œè¿”å›çš„æ¶ˆæ¯å°†æ˜¯ <code>ä½ å¥½ï¼ŒJohnï¼</code>ï¼›å½“ç”¨æˆ·è®¿é—® <code>/greet?name=John&amp;lang=en_US</code> æ—¶ï¼Œè¿”å›çš„æ¶ˆæ¯å°†æ˜¯ <code>Hello, John!</code>ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=nn>org.springframework.web.bind.annotation.GetMapping</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>org.springframework.web.bind.annotation.RequestParam</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>org.springframework.web.bind.annotation.RestController</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.util.Locale</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@RestController</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>GreetingController</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>GreetingService</span><span class=w> </span><span class=n>greetingService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>GreetingController</span><span class=p>(</span><span class=n>GreetingService</span><span class=w> </span><span class=n>greetingService</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>greetingService</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>greetingService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/greet&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=nd>@RequestParam</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=nd>@RequestParam</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>lang</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Locale</span><span class=p>(</span><span class=n>lang</span><span class=p>.</span><span class=na>split</span><span class=p>(</span><span class=s>&#34;_&#34;</span><span class=p>)</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>lang</span><span class=p>.</span><span class=na>split</span><span class=p>(</span><span class=s>&#34;_&#34;</span><span class=p>)</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>greetingService</span><span class=p>.</span><span class=na>getGreeting</span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>å½“ç„¶ï¼Œä¸ºäº†å‰ç«¯æ–¹ä¾¿ä¹Ÿå¯ä»¥ç»Ÿä¸€ç”¨ HTTP Headerï¼Œç„¶ååç«¯è·å–åˆ›å»º <code>java.util.Locale</code> å¯¹è±¡</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RequestHeader</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Accept-Language&#34;</span><span class=p>,</span><span class=w> </span><span class=n>defaultValue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;zh-CN&#34;</span><span class=p>)</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>lang</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>åç«¯ä½¿ç”¨ <code>org.springframework.context.MessageSource#getMessage(java.lang.String, java.lang.Object[], java.util.Locale)</code> ç¿»è¯‘å³å¯</li><li>å‚æ•°åˆ†åˆ«ä¸ºï¼šæ–‡æœ¬ keyï¼›æ¸²æŸ“å‚æ•°æ•°ç»„ï¼ˆæŒ‰é¡ºåºï¼Œåœ°åŒºå¯¹è±¡</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=nn>org.springframework.beans.factory.annotation.Autowired</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>org.springframework.context.MessageSource</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>org.springframework.stereotype.Service</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.util.Locale</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>GreetingService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>MessageSource</span><span class=w> </span><span class=n>messageSource</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getGreeting</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>messageSource</span><span class=p>.</span><span class=na>getMessage</span><span class=p>(</span><span class=s>&#34;greeting&#34;</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Object</span><span class=o>[]</span><span class=p>{</span><span class=n>name</span><span class=p>},</span><span class=w> </span><span class=n>locale</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½>æŠ½è±¡å›½é™…åŒ–åŠŸèƒ½</h2><p>ä»¥ä¸Šåšæ³•æ˜¯ç›´æ¥æ›¿æ¢æ‰å›½é™…åŒ–çš„å†…å®¹ï¼Œå¦‚æœå†…å®¹ä¸å¤šï¼Œä¸”æ²¡æœ‰ä¸€äº›åµŒå¥—çš„æ–‡æœ¬ï¼Œå¯ä»¥ç›´æ¥æ›¿æ¢ã€‚</p><p>åµŒå¥—æ–‡æœ¬æŒ‡çš„æ˜¯ï¼Œ<code>key1</code> å¯¹åº” <code>value</code> é‡Œé¢ï¼Œå…¶ä¸­ä¸€ä¸ªå ä½ç¬¦çš„å†…å®¹ä¹Ÿæ˜¯åŠ¨æ€ç”Ÿæˆï¼Œæ‹¼æ¥è€Œæˆçš„ã€‚å‡å¦‚ <code>{1}</code> ä¹Ÿæ˜¯ä¸€ä¸ªå›½é™…åŒ–æ–‡æœ¬ï¼Œå¯¹åº”å¦ä¸€ä¸ª key2 çš„å†…å®¹ï¼Œè¿™ä¸­åµŒå¥—å°±éœ€è¦å…ˆç¿»è¯‘ <code>{1}</code>ï¼Œå†æ¸²æŸ“ <code>value</code>ã€‚</p><p>å¯ä»¥å†™ä¸€ä¸ªå·¥å…·ç±»ï¼ŒæŠ½è±¡ i18n æ¸²æŸ“åŠŸèƒ½ã€‚</p><h3 id=å®šä¹‰æ¥å£>å®šä¹‰æ¥å£</h3><ul><li><code>I18nKey</code> åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œè·å– keyï¼Œå®ç°ç±»æ˜¯ä¸€ä¸ªæšä¸¾</li><li><code>I18nMessage</code> æ˜¯ä¸€æ¡ i18n ä¿¡æ¯ï¼Œé™¤äº†è·å– keyï¼Œè¿˜æœ‰è·å–æ¸²æŸ“å€¼åˆ—è¡¨ï¼›ç±»å‹ä¸Šç•Œé™å®šä¸º <code>I18nKey</code> å®ç°ç±»ï¼›<code>getValues()</code> ç”±äºæ¸²æŸ“çš„å€¼å¯¹è±¡ä¸æ­¢ <code>String</code>ï¼Œè¿˜å¯èƒ½æ˜¯è¿˜æ˜¯ä¸€ä¸ª <code>I18nMessage</code>ï¼Œéœ€è¦é€’å½’åœ°æ¸²æŸ“ï¼Œæ‰€ä»¥è·å–åˆ—è¡¨æ³›å‹åªé™åˆ¶ Object</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * I18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@FunctionalInterface</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>I18nKey</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>getKey</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * I18n åŸºæœ¬ä¿¡æ¯, åŒ…æ‹¬é…ç½®æ–‡ä»¶ key å’Œå¯¹åº”æ¨¡æ¿é¡ºåºçš„å¾…æ¸²æŸ“å€¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @param &lt;K&gt; I18n é…ç½®æ–‡ä»¶ key ç±»å‹
</span></span></span><span class=line><span class=cl><span class=cm> * @see I18nKey
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>I18nMessage</span><span class=o>&lt;</span><span class=n>K</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>I18nKey</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * è·å– I18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return I18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>K</span><span class=w> </span><span class=nf>getKey</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * è·å– I18n é…ç½®æ–‡ä»¶ key å¯¹åº”æ¨¡æ¿é¡ºåºçš„å¾…æ¸²æŸ“å€¼
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return I18n é…ç½®æ–‡ä»¶ key å¯¹åº”æ¨¡æ¿é¡ºåºçš„å¾…æ¸²æŸ“å€¼
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Object</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getValues</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ç®€å•-i18n-æ¶ˆæ¯>ç®€å• i18n æ¶ˆæ¯</h3><ul><li>ç®€å• i18n keyï¼Œå¯¹åº”ç®€å• i18n messageï¼Œå³<strong>ç®€å• k-v ç»“æ„</strong>ï¼Œæ— æ¸²æŸ“å‚æ•°</li><li>å®ç° <code>I18nKey</code> æ¥å£ï¼Œæ˜¯ä¸€ä¸ª<strong>æšä¸¾ç±»</strong><ul><li>ä¸‹é¢æ˜¯å®¡æ‰¹ç¤ºä¾‹ï¼Œè®¾è®¡ä¸‰ç±»ï¼Œå®¡æ‰¹æ·»åŠ ã€æ“ä½œå’Œæ’¤é”€çš„ i18n key</li><li>æˆå‘˜å˜é‡åªæœ‰ <code>String key</code>ï¼Œéœ€è¦å®ç°æ¥å£æ–¹æ³• <code>getKey</code></li><li>ä¸ºäº†å®ç° key è¿˜åŸæšä¸¾å¯¹è±¡ï¼Œå®ç° <code>fromKey</code> æ–¹æ³•</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * ç®€å• i18n é…ç½®æ–‡ä»¶ key æšä¸¾, ç›´æ¥è·å– i18n å­—ç¬¦ä¸², æ— æ¸²æŸ“
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @see I18nKey
</span></span></span><span class=line><span class=cl><span class=cm> * @see SimpleI18nMessage
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@AllArgsConstructor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Slf4j</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>SimpleI18nKey</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>I18nKey</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * å®¡æ‰¹æ·»åŠ æ“ä½œæ—¥å¿—
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_ADD_TYPENAME</span><span class=p>(</span><span class=s>&#34;opLog.approvalAdd.typeName&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_ADD_FIELDS_DESCRIPTION</span><span class=p>(</span><span class=s>&#34;opLog.approvalAdd.fields.description&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ“ä½œå®¡æ ¸æ“ä½œæ—¥å¿—
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_REVIEW_TYPENAME</span><span class=p>(</span><span class=s>&#34;opLog.approvalReview.typeName&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_REVIEW_FIELDS_UNSOLVED</span><span class=p>(</span><span class=s>&#34;opLog.approvalReview.fields.unsolved&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_REVIEW_FIELDS_APPROVED</span><span class=p>(</span><span class=s>&#34;opLog.approvalReview.fields.approved&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_REVIEW_FIELDS_REJECTED</span><span class=p>(</span><span class=s>&#34;opLog.approvalReview.fields.rejected&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ’¤é”€å®¡æ‰¹æ“ä½œæ—¥å¿—
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_WITHDRAW_TYPENAME</span><span class=p>(</span><span class=s>&#34;opLog.approvalWithdraw.typeName&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>APPROVAL_WITHDRAW_FIELDS_AUTOWITHDRAW</span><span class=p>(</span><span class=s>&#34;opLog.approvalWithdraw.fields.autoWithdraw&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getKey</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ ¹æ®ç»™å®šçš„å­—ç¬¦ä¸²æŸ¥æ‰¾å¯¹åº”çš„æšä¸¾å¯¹è±¡, ä¸»è¦åº”ç”¨åœ¨æ“ä½œæ—¥å¿—ä»æ•°æ®åº“å–å‡ºåè¿˜åŸ Key æšä¸¾å¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key i18n é…ç½®æ–‡ä»¶ key å­—ç¬¦ä¸²
</span></span></span><span class=line><span class=cl><span class=cm>     * @return åŒ¹é…çš„æšä¸¾å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>SimpleI18nKey</span><span class=w> </span><span class=nf>fromKey</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>SimpleI18nKey</span><span class=w> </span><span class=n>i18nKey</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>SimpleI18nKey</span><span class=p>.</span><span class=na>values</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>i18nKey</span><span class=p>.</span><span class=na>getKey</span><span class=p>().</span><span class=na>equals</span><span class=p>(</span><span class=n>key</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>i18nKey</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>log</span><span class=p>.</span><span class=na>error</span><span class=p>(</span><span class=s>&#34;I18n key not found: [{}]&#34;</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>ç®€å• i18n æ¶ˆæ¯ä½“<ul><li>æˆå‘˜å˜é‡æ˜¯æ³›å‹ä¸­åŒç±»å‹çš„ <code>SimpleI18nKey</code> æšä¸¾å¯¹è±¡</li><li>å®ç° <code>I18nMessage</code> æ¥å£æ–¹æ³•<ul><li>è·å– keyï¼Œç›´æ¥è¿”å›æˆå‘˜å˜é‡</li><li>è·å–æ¸²æŸ“å‚æ•°åˆ—è¡¨ï¼Œç®€å• kv æ¶ˆæ¯ï¼Œæ— æ¸²æŸ“å‚æ•°ï¼Œè¿”å› <code>null</code></li></ul></li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * ç®€å• i18n æ¶ˆæ¯ä½“, æ— éœ€æ¸²æŸ“(æ—  args), æ ¹æ® key ç›´æ¥è·å– i18n å†…å®¹
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @see SimpleI18nKey
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@AllArgsConstructor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SimpleI18nMessage</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>I18nMessage</span><span class=o>&lt;</span><span class=n>SimpleI18nKey</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>SimpleI18nKey</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>SimpleI18nKey</span><span class=w> </span><span class=nf>getKey</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ— éœ€æ¸²æŸ“(æ—  args)
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Object</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getValues</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å¤æ‚-i18n-æ¶ˆæ¯>å¤æ‚ i18n æ¶ˆæ¯</h3><p>å¤æ‚ i18n æ¶ˆæ¯ï¼Œå³å¸¦æœ‰æ¸²æŸ“çš„ i18n æ¶ˆæ¯ï¼Œæ¸²æŸ“å€¼å¯èƒ½å¸¦æœ‰ i18n message éœ€è¦é€’å½’æ¸²æŸ“</p><p>ä»¥æ·»åŠ æ“ä½œå®¡æ‰¹æ—¥å¿—ä¸ºä¾‹ï¼Œ <code>I18nKey</code> å®ç°ç±»åŒæ ·æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œåªæœ‰ <code>String key</code> ä¸€ä¸ªæˆå‘˜å˜é‡ï¼›</p><p><code>I18nMessage</code> å®ç°ç±»ï¼Œæ³›å‹ <code>ApprovalAddAdditionOtherI18nKey</code> é™åˆ¶ i18n key ç±»å‹ï¼Œå¾…æ¸²æŸ“ä¿¡æ¯æœ‰ä¸¤ä¸ªï¼Œæ”¾åœ¨æˆå‘˜å˜é‡ä½ç½®ï¼ŒåŒ keyï¼Œç”±æœ‰å‚æ„é€ æ–¹æ³•ç»Ÿä¸€è®¾ç½®ï¼›å¯ä»¥çœ‹åˆ° <code>description</code> å˜é‡å¯¹åº”ç¬¬äºŒä¸ªå‚æ•° <code>{1}</code> åŒæ ·æ˜¯ä¸€ä¸ª <code>I18nMessage</code>ï¼Œè¯¥ i18n message æ³›å‹é™åˆ¶ä¸ºç®€å• i18n keyï¼›è·å–æ¸²æŸ“å‚æ•° <code>getValues()</code> æ—¶ï¼ŒæŒ‰é¡ºåºä¼ å…¥ <code>approvalId</code> å’Œ <code>description</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ·»åŠ å®¡æ‰¹æ“ä½œæ—¥å¿— i18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @see ApprovalAddAdditionOtherI18nMsg
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@AllArgsConstructor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>ApprovalAddAdditionOtherI18nKey</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>I18nKey</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ADDITION_OTHER</span><span class=p>(</span><span class=s>&#34;opLog.approvalAdd.addition.other&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getKey</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@AllArgsConstructor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ApprovalAddAdditionOtherI18nMsg</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>I18nMessage</span><span class=o>&lt;</span><span class=n>ApprovalAddAdditionOtherI18nKey</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// å‘èµ·æœªçŸ¥ç±»å‹å®¡æ‰¹ï¼›å®¡æ‰¹ID = {0}ï¼›{1}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>ApprovalAddAdditionOtherI18nKey</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>approvalId</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>I18nMessage</span><span class=o>&lt;</span><span class=n>SimpleI18nKey</span><span class=o>&gt;</span><span class=w> </span><span class=n>description</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>ApprovalAddAdditionOtherI18nKey</span><span class=w> </span><span class=nf>getKey</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Object</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getValues</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>approvalId</span><span class=p>,</span><span class=w> </span><span class=n>description</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=i18n-å·¥å…·ç±»>i18n å·¥å…·ç±»</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * I18n å·¥å…·ç±» &lt;p&gt;
</span></span></span><span class=line><span class=cl><span class=cm> * æä¾›ä¸¤ç§æ–¹å¼æ¸²æŸ“å›½é™…åŒ–ä¿¡æ¯
</span></span></span><span class=line><span class=cl><span class=cm> * &lt;ol&gt;
</span></span></span><span class=line><span class=cl><span class=cm> *     &lt;li&gt;æ ¹æ® key ç›´æ¥æ¸²æŸ“å›½é™…åŒ–æ¶ˆæ¯&lt;/li&gt; {@link #processI18nMessage(String, Locale, Object...)}
</span></span></span><span class=line><span class=cl><span class=cm> *     &lt;li&gt;æ ¹æ® {@link I18nMessage} å®ç°ç±»æ¸²æŸ“å›½é™…åŒ–æ¶ˆæ¯&lt;/li&gt; {@link #processI18nMessage(I18nMessage, Locale)}
</span></span></span><span class=line><span class=cl><span class=cm> * &lt;/ol&gt;
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @see I18nMessage
</span></span></span><span class=line><span class=cl><span class=cm> * @see I18nKey
</span></span></span><span class=line><span class=cl><span class=cm> * @see SimpleI18nMessage
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Slf4j</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Component</span><span class=p>(</span><span class=s>&#34;i18n-utils&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>I18nUtils</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>MessageSource</span><span class=w> </span><span class=n>messageSource</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>I18nUtils</span><span class=p>(</span><span class=n>MessageSource</span><span class=w> </span><span class=n>messageSource</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>messageSource</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>messageSource</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * ç›´æ¥æ ¹æ® key è·å–å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key    i18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param locale {@link Locale} è¯­è¨€ç¯å¢ƒ
</span></span></span><span class=line><span class=cl><span class=cm>     * @param args   æŒ‰æ¨¡æ¿é¡ºåºçš„å‚æ•°åˆ—è¡¨, å¯ä¸º {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     * @return æ¸²æŸ“åå›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>processI18nMessage</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=p>...</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// ä¸ºé¿å…æ¸²æŸ“æ¨¡ç‰ˆå‡ºç°å¤šä½™åˆ†éš”ç¬¦, å¦‚ Integer å¢åŠ åƒä½é€—å·åˆ†éš”ç¬¦, ç»Ÿä¸€ String è¿›è¡Œæ¸²æŸ“</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>argsArray</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>stream</span><span class=p>(</span><span class=n>args</span><span class=p>).</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>valueOf</span><span class=p>).</span><span class=na>toArray</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=p>::</span><span class=k>new</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>getMessage</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>argsArray</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * ç›´æ¥æ ¹æ® key è·å–å›½é™…åŒ–æ¶ˆæ¯, æ¸²æŸ“å¤±è´¥æ—¶è¿”å›é»˜è®¤æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key            i18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param defaultMessage é»˜è®¤æ¶ˆæ¯, å¯ä¸º {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     * @param locale         {@link Locale} è¯­è¨€ç¯å¢ƒ
</span></span></span><span class=line><span class=cl><span class=cm>     * @param args           æŒ‰æ¨¡æ¿é¡ºåºçš„å‚æ•°åˆ—è¡¨, å¯ä¸º {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     * @return æ¸²æŸ“åå›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>processI18nMessage</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=nd>@Nullable</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>defaultMessage</span><span class=p>,</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=p>...</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// ä¸ºé¿å…æ¸²æŸ“æ¨¡ç‰ˆå‡ºç°å¤šä½™åˆ†éš”ç¬¦, å¦‚ Integer å¢åŠ åƒä½é€—å·åˆ†éš”ç¬¦, ç»Ÿä¸€ String è¿›è¡Œæ¸²æŸ“</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>argsArray</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>stream</span><span class=p>(</span><span class=n>args</span><span class=p>).</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>valueOf</span><span class=p>).</span><span class=na>toArray</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=p>::</span><span class=k>new</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>getMessage</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>defaultMessage</span><span class=p>,</span><span class=w> </span><span class=n>argsArray</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ ¹æ® {@link I18nMessage} å®ç°ç±»å’Œ {@link Locale} è¯­è¨€ç¯å¢ƒè·å–æ¸²æŸ“åçš„å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param i18nMessage {@link I18nMessage} å®ç°ç±», å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     * @param locale      {@link Locale} è¯­è¨€ç¯å¢ƒ
</span></span></span><span class=line><span class=cl><span class=cm>     * @return æ¸²æŸ“åçš„å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>processI18nMessage</span><span class=p>(</span><span class=nd>@NonNull</span><span class=w> </span><span class=n>I18nMessage</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>i18nMessage</span><span class=p>,</span><span class=w> </span><span class=nd>@NonNull</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>resolveMessage</span><span class=p>(</span><span class=n>i18nMessage</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * å¤„ç†å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param i18nMessage {@link I18nMessage} å®ç°ç±», å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     * @param locale      {@link Locale} è¯­è¨€ç¯å¢ƒ
</span></span></span><span class=line><span class=cl><span class=cm>     * @return æ¸²æŸ“åçš„å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>resolveMessage</span><span class=p>(</span><span class=nd>@NonNull</span><span class=w> </span><span class=n>I18nMessage</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>i18nMessage</span><span class=p>,</span><span class=w> </span><span class=nd>@NonNull</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// ç›´æ¥æ¸²æŸ“ç®€å•å›½é™…åŒ–æ¶ˆæ¯</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>i18nMessage</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>SimpleI18nMessage</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>getMessage</span><span class=p>(</span><span class=n>i18nMessage</span><span class=p>.</span><span class=na>getKey</span><span class=p>().</span><span class=na>getKey</span><span class=p>(),</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>i18nMessage</span><span class=p>.</span><span class=na>getValues</span><span class=p>().</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>I18nMessage</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>resolveMessage</span><span class=p>((</span><span class=n>I18nMessage</span><span class=o>&lt;?&gt;</span><span class=p>)</span><span class=w> </span><span class=n>value</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>)</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>valueOf</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>toArray</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=p>::</span><span class=k>new</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>getMessage</span><span class=p>(</span><span class=n>i18nMessage</span><span class=p>.</span><span class=na>getKey</span><span class=p>().</span><span class=na>getKey</span><span class=p>(),</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * è·å–å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key    i18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param locale {@link Locale} è¯­è¨€ç¯å¢ƒ
</span></span></span><span class=line><span class=cl><span class=cm>     * @param args   æŒ‰æ¨¡æ¿é¡ºåºçš„å‚æ•°åˆ—è¡¨, å¯ä¸º {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     * @return æ¸²æŸ“åå›½é™…åŒ–æ¶ˆæ¯; è‹¥æœªæ‰¾åˆ°æ¶ˆæ¯, è¿”å›ç©ºå­—ç¬¦ä¸²
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getMessage</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>i18nMessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>i18nMessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>messageSource</span><span class=p>.</span><span class=na>getMessage</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>NoSuchMessageException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>log</span><span class=p>.</span><span class=na>error</span><span class=p>(</span><span class=s>&#34;Resolve i18n message [{}] error&#34;</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>i18nMessage</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * è·å–å›½é™…åŒ–æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key            i18n é…ç½®æ–‡ä»¶ key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param locale         {@link Locale} è¯­è¨€ç¯å¢ƒ
</span></span></span><span class=line><span class=cl><span class=cm>     * @param defaultMessage æ¸²æŸ“å¤±è´¥, é»˜è®¤æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     * @param args           æŒ‰æ¨¡æ¿é¡ºåºçš„å‚æ•°åˆ—è¡¨, å¯ä¸º {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     * @return æ¸²æŸ“åå›½é™…åŒ–æ¶ˆæ¯; è‹¥æœªæ‰¾åˆ°æ¶ˆæ¯, è¿”å›é»˜è®¤æ¶ˆæ¯
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getMessage</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Locale</span><span class=w> </span><span class=n>locale</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>defaultMessage</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>messageSource</span><span class=p>.</span><span class=na>getMessage</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>,</span><span class=w> </span><span class=n>defaultMessage</span><span class=p>,</span><span class=w> </span><span class=n>locale</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>æ¸²æŸ“çš„ä¸»è¦ç±»æ˜¯é€šè¿‡ <code>org.springframework.context.MessageSource</code></li><li>æ¸²æŸ“çš„å‚æ•° <code>args</code> è™½ç„¶æ˜¯ <code>Object</code> æ•°ç»„ï¼Œä¸é™åˆ¶ç±»å‹ï¼Œä½†æ˜¯ä¼ å…¥ <code>Integer</code> æ—¶ï¼Œæ¸²æŸ“åƒä½ä»¥ä¸Šçš„å€¼æ—¶ï¼Œä¼šè‡ªåŠ¨å¸¦ä¸Šåƒåˆ†ä½åˆ†éš”ç¬¦ï¼Œç±»ä¼¼ <code>1,000</code> ï¼Œå› æ­¤æ¸²æŸ“åƒç»Ÿä¸€å°† <code>args</code> è½¬ä¸º <code>String</code> ï¼Œä¿æŒåŸæ•°å€¼æ ¼å¼</li><li><code>org.springframework.context.MessageSource#getMessage(java.lang.String, java.lang.Object[], java.util.Locale)</code> æ‰¾ä¸åˆ° i18n keyï¼Œé»˜è®¤ä¼šæŠ›å‡º <code>NoSuchMessageException</code> å¼‚å¸¸ï¼Œè€Œä¸æ˜¯è¿”å› <code>null</code>ï¼Œéœ€è¦æ³¨æ„</li><li><code>org.springframework.context.MessageSource#getMessage(java.lang.String, java.lang.Object[], java.lang.String, java.util.Locale)</code> æä¾› <code>defaultMessage</code> å‚æ•°ï¼Œæ‰¾ä¸åˆ° i18n key ä¸æŠ›å¼‚å¸¸ï¼Œè¿”å›é»˜è®¤å­—ç¬¦ä¸²</li><li><code>processI18nMessage(String key, Locale locale, Object... args)</code> å‚æ•°åŒ <code>getMessage</code>ï¼Œç›´æ¥æ ¹æ®å­—ç¬¦ä¸² key è·å– i18n æ¶ˆæ¯ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºå®é™…ä½¿ç”¨æœ‰å¤§é‡é­”æ³•å€¼ï¼Œå³ i18n key æ˜¯é­”æ³•å€¼å­—ç¬¦ä¸²ï¼Œç»Ÿä¸€ç”¨æšä¸¾ç®¡ç†ä¾¿äºå¤ç”¨ï¼Œæ³¨é‡Šå’ŒæŸ¥çœ‹å¼•ç”¨ã€‚</li><li><code>processI18nMessage(@NonNull I18nMessage&lt;?> i18nMessage, @NonNull Locale locale)</code> æ¸²æŸ“ i18n ä¿¡æ¯æ–¹æ³•ï¼Œåªéœ€è¦ i18n message å¯¹è±¡å’Œåœ°åŒºå¯¹è±¡ <code>Locale</code> ï¼›<code>I18nMessage</code> ä¼šå¸¦æœ‰ key ä¿¡æ¯ï¼Œå› æ­¤åªéœ€è¦ä¸€ä¸ªå¯¹è±¡å³å¯</li><li><code>resolveMessage(@NonNull I18nMessage&lt;?> i18nMessage, @NonNull Locale locale)</code> å¤„ç† i18n message çš„æ ¸å¿ƒæ–¹æ³•ï¼Œå…ˆåˆ¤æ–­ i18n message æ˜¯å¦ä¸ºç®€å• i18n æ¶ˆæ¯ <code>SimpleI18nMessage</code>ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥ getMessageï¼›å¦‚æœä¸æ˜¯ï¼Œéœ€è¦å°†å‚æ•° args ä¾æ¬¡è·å–ï¼Œåˆ¤æ–­ <code>instanceof I18nMessage</code> ï¼Œæ˜¯ i18n message é€’å½’å¤„ç†æ¶ˆæ¯å³å¯ï¼Œç›´åˆ°æ‰€æœ‰å›½é™…åŒ–æ¶ˆæ¯éƒ½è¢«æ¸²æŸ“</li></ul><h3 id=ä½¿ç”¨>ä½¿ç”¨</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getShowAddition</span><span class=p>(</span><span class=n>Locale</span><span class=w> </span><span class=n>lang</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>I18nUtils</span><span class=w> </span><span class=n>i18n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BeanContext</span><span class=p>.</span><span class=na>getBean</span><span class=p>(</span><span class=n>I18nUtils</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>SimpleI18nMessage</span><span class=w> </span><span class=n>descMsg</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>SimpleI18nMessage</span><span class=p>(</span><span class=n>SimpleI18nKey</span><span class=p>.</span><span class=na>APPROVAL_ADD_FIELDS_DESCRIPTION</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>i18n</span><span class=p>.</span><span class=na>processI18nMessage</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>ApprovalAddAdditionOtherI18nMsg</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>ApprovalAddAdditionOtherI18nKey</span><span class=p>.</span><span class=na>ADDITION_OTHER</span><span class=p>,</span><span class=w> </span><span class=n>approvalId</span><span class=p>,</span><span class=w> </span><span class=n>descMsg</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>,</span><span class=w> </span><span class=n>lang</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>getShowAddition</code> ä¼ å…¥ <code>Locale</code> åœ°åŒºå¯¹è±¡</li><li>å…ˆç”¨ <code>org.springframework.beans.factory.BeanFactory#getBean(java.lang.Class&lt;T>)</code> è·å– i18n å·¥å…·ç±»</li><li>åˆ›å»ºç®€å• i18n æ¶ˆæ¯ï¼ŒæŒ‡å®šå…¶ i18n æšä¸¾ key</li><li>åˆ›å»ºå¤æ‚ i18n æ¶ˆæ¯ï¼Œå…ˆæŒ‡å®šå¤æ‚ i18n keyï¼Œç„¶åæŒ‰æ¸²æŸ“é¡ºåºä¼ å…¥æˆå‘˜å˜é‡ï¼Œå…¶ä¸­ description æ˜¯ä¸Šé¢åˆ›å»ºçš„ç®€å• i18n æ¶ˆæ¯</li></ul><h2 id=æ€»ç»“>æ€»ç»“</h2><p>ä»¥ä¸Šé€’å½’æ¸²æŸ“çš„æŠ½è±¡å·¥å…·ç±»ï¼Œåœ¨å¤æ‚çš„é€’å½’æ¸²æŸ“åœºæ™¯å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°ä½¿ç”¨ï¼Œè¯­ä¹‰å’Œå¯è¯»æ€§éƒ½è¾ƒé«˜ã€‚</p><p>å¦‚åªæœ‰ç®€å•çš„ i18n æ¶ˆæ¯æ¸²æŸ“åœºæ™¯ï¼Œç›´æ¥ä½¿ç”¨ <code>MessageSource</code> æ¸²æŸ“å³å¯ï¼Œæ— éœ€è¿‡åº¦å°è£…ï¼›æ³¨æ„ç®¡ç†å¥½ i18n key çš„é­”æ³•å€¼ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/java/>Java</a>
<a href=/tags/spring/>Spring</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/thoughts-on-java-lvalues-and-rvalues/><div class=article-image><img src=/post/thoughts-on-java-lvalues-and-rvalues/java-programming-cover.234de2e0b6de9957ec35995fb2be5099_hu6603624660207343786.png width=250 height=150 loading=lazy alt="Featured image of post Java å·¦å€¼å’Œå³å€¼çš„æ€è€ƒ" data-key=Thoughts-on-Java-lvalues-and-rvalues data-hash="md5-I03i4LbemVfsNZlfsr5QmQ=="></div><div class=article-details><h2 class=article-title>Java å·¦å€¼å’Œå³å€¼çš„æ€è€ƒ</h2></div></a></article><article class=has-image><a href=/post/some-thoughts-on-designing-absolute-method/><div class=article-image><img src=/post/some-thoughts-on-designing-absolute-method/java-programming-cover.234de2e0b6de9957ec35995fb2be5099_hu6603624660207343786.png width=250 height=150 loading=lazy alt="Featured image of post å…³äºè®¾è®¡ç»å¯¹å€¼ abs() çš„ä¸€äº›æ€è€ƒ" data-key=some-thoughts-on-designing-absolute-method data-hash="md5-I03i4LbemVfsNZlfsr5QmQ=="></div><div class=article-details><h2 class=article-title>å…³äºè®¾è®¡ç»å¯¹å€¼ abs() çš„ä¸€äº›æ€è€ƒ</h2></div></a></article><article class=has-image><a href=/post/java-for_loop_for_each_iterator-efficiency-analysis/><div class=article-image><img src=/post/java-for_loop_for_each_iterator-efficiency-analysis/java-programming-cover.234de2e0b6de9957ec35995fb2be5099_hu6603624660207343786.png width=250 height=150 loading=lazy alt="Featured image of post Java For-loop For-each Iterator æ•ˆç‡åˆ†æ" data-key=Java-for_loop_for_each_iterator-efficiency-analysis data-hash="md5-I03i4LbemVfsNZlfsr5QmQ=="></div><div class=article-details><h2 class=article-title>Java For-loop For-each Iterator æ•ˆç‡åˆ†æ</h2></div></a></article><article class=has-image><a href=/post/iterator-concurrentmodificationexception-problem-when-remove/><div class=article-image><img src=/post/iterator-concurrentmodificationexception-problem-when-remove/java-programming-cover.234de2e0b6de9957ec35995fb2be5099_hu6603624660207343786.png width=250 height=150 loading=lazy alt="Featured image of post Iterator remove æ—¶å‡ºç° ConcurrentModificationException" data-key=Iterator-ConcurrentModificationException-problem-when-remove data-hash="md5-I03i4LbemVfsNZlfsr5QmQ=="></div><div class=article-details><h2 class=article-title>Iterator remove æ—¶å‡ºç° ConcurrentModificationException</h2></div></a></article><article class=has-image><a href=/post/https-tls-and-mtls-and-certificate-related/><div class=article-image><img src=/post/https-tls-and-mtls-and-certificate-related/mtls-cover.2316741c16c2e958c17eca69f980ebf9_hu6538365518476170952.png width=250 height=150 loading=lazy alt="Featured image of post HTTPS å•åŒå‘è®¤è¯åŠè¯ä¹¦ç›¸å…³" data-key=HTTPS-TLS-and-mTLS-and-certificate-related data-hash="md5-IxZ0HBbC6VjBfspp+YDr+Q=="></div><div class=article-details><h2 class=article-title>HTTPS å•åŒå‘è®¤è¯åŠè¯ä¹¦ç›¸å…³</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Capriwits's site</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>