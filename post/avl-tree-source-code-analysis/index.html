<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" äºŒå‰å¹³è¡¡æ ‘ AVL æ ‘èŠ‚ç‚¹å®šä¹‰ æ ‘é«˜åº¦ å¹³è¡¡å› å­ æ ‘çš„æ—‹è½¬ å³æ—‹ RightRotate å·¦æ—‹ LeftRotate å…ˆå·¦æ—‹åå³æ—‹ å…ˆå³æ—‹å†å·¦æ—‹ AVL æ—‹è½¬ç­–ç•¥ æ’å…¥èŠ‚ç‚¹ é€’å½’æ³• é€’å½’æ³• åˆ é™¤èŠ‚ç‚¹ é€’å½’æ³• è¿­ä»£æ³• å•æ ˆï¼ˆé”™è¯¯ä»£ç ï¼‰ åŒæ ˆï¼ˆå¯è¡Œæ–¹æ¡ˆï¼‰ å•æ ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰ æŸ¥æ‰¾èŠ‚ç‚¹ å•å…ƒæµ‹è¯• Algorithm 4th å®ç°æºç  Reference äºŒå‰å¹³è¡¡æ ‘ AVL æ ‘èŠ‚ç‚¹å®šä¹‰ æ ‘èŠ‚ç‚¹ç»“æ„ï¼š\n"><title>äºŒå‰å¹³è¡¡æ ‘æºç è§£æ</title><link rel=canonical href=https://capriwits.com/post/avl-tree-source-code-analysis/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="äºŒå‰å¹³è¡¡æ ‘æºç è§£æ"><meta property='og:description' content=" äºŒå‰å¹³è¡¡æ ‘ AVL æ ‘èŠ‚ç‚¹å®šä¹‰ æ ‘é«˜åº¦ å¹³è¡¡å› å­ æ ‘çš„æ—‹è½¬ å³æ—‹ RightRotate å·¦æ—‹ LeftRotate å…ˆå·¦æ—‹åå³æ—‹ å…ˆå³æ—‹å†å·¦æ—‹ AVL æ—‹è½¬ç­–ç•¥ æ’å…¥èŠ‚ç‚¹ é€’å½’æ³• é€’å½’æ³• åˆ é™¤èŠ‚ç‚¹ é€’å½’æ³• è¿­ä»£æ³• å•æ ˆï¼ˆé”™è¯¯ä»£ç ï¼‰ åŒæ ˆï¼ˆå¯è¡Œæ–¹æ¡ˆï¼‰ å•æ ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰ æŸ¥æ‰¾èŠ‚ç‚¹ å•å…ƒæµ‹è¯• Algorithm 4th å®ç°æºç  Reference äºŒå‰å¹³è¡¡æ ‘ AVL æ ‘èŠ‚ç‚¹å®šä¹‰ æ ‘èŠ‚ç‚¹ç»“æ„ï¼š\n"><meta property='og:url' content='https://capriwits.com/post/avl-tree-source-code-analysis/'><meta property='og:site_name' content="Capriwits's site"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='BST'><meta property='article:published_time' content='2024-11-23T19:10:16+08:00'><meta property='article:modified_time' content='2024-11-23T19:10:16+08:00'><meta property='og:image' content='https://capriwits.com/post/avl-tree-source-code-analysis/Tree-icon.png'><meta name=twitter:title content="äºŒå‰å¹³è¡¡æ ‘æºç è§£æ"><meta name=twitter:description content=" äºŒå‰å¹³è¡¡æ ‘ AVL æ ‘èŠ‚ç‚¹å®šä¹‰ æ ‘é«˜åº¦ å¹³è¡¡å› å­ æ ‘çš„æ—‹è½¬ å³æ—‹ RightRotate å·¦æ—‹ LeftRotate å…ˆå·¦æ—‹åå³æ—‹ å…ˆå³æ—‹å†å·¦æ—‹ AVL æ—‹è½¬ç­–ç•¥ æ’å…¥èŠ‚ç‚¹ é€’å½’æ³• é€’å½’æ³• åˆ é™¤èŠ‚ç‚¹ é€’å½’æ³• è¿­ä»£æ³• å•æ ˆï¼ˆé”™è¯¯ä»£ç ï¼‰ åŒæ ˆï¼ˆå¯è¡Œæ–¹æ¡ˆï¼‰ å•æ ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰ æŸ¥æ‰¾èŠ‚ç‚¹ å•å…ƒæµ‹è¯• Algorithm 4th å®ç°æºç  Reference äºŒå‰å¹³è¡¡æ ‘ AVL æ ‘èŠ‚ç‚¹å®šä¹‰ æ ‘èŠ‚ç‚¹ç»“æ„ï¼š\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://capriwits.com/post/avl-tree-source-code-analysis/Tree-icon.png'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu5425474801781991629.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸŒ¹</span></figure><div class=site-meta><h1 class=site-name><a href=/>Capriwits's site</a></h1><h2 class=site-description>To see the world as it is and to love it.</h2></div></header><ol class=menu-social><li><a href=https://github.com/CapriWits target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto://hypocrite30@foxmail.com target=_blank title=Mail rel=me><!doctype html><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="212.795" height="220.59" viewBox="0 0 212.795 220.59" enable-background="new 0 0 212.795 220.59"><path fill="#f7b63e" d="M206.382 36.693v138.896c0 2.718-2.207 4.924-4.926 4.924H11.338c-2.719.0-4.925-2.206-4.925-4.924V36.693l73.042 69.448 26.943 25.612 26.941-25.612 73.043-69.448z"/><path fill="#10003b" d="M201.456 182.514H11.338c-3.819.0-6.925-3.106-6.925-6.925V36.694c0-.8.477-1.523 1.211-1.838.736-.315 1.588-.163 2.167.389l98.606 93.749 98.606-93.749c.579-.552 1.432-.704 2.167-.389.734.315 1.211 1.038 1.211 1.838v138.895C208.382 179.408 205.275 182.514 201.456 182.514M8.413 41.354v134.234c0 1.613 1.312 2.925 2.925 2.925h190.118c1.613.0 2.926-1.312 2.926-2.925V41.354l-96.606 91.848c-.771.734-1.984.734-2.756.0L8.413 41.354z"/><path fill="#ffd161" d="M206.382 36.693l-73.043 69.448-26.941 25.612-26.943-25.612L6.413 36.693c0-2.719 2.206-4.925 4.925-4.925h190.118C204.175 31.769 206.382 33.975 206.382 36.693"/><path fill="#10003b" d="M106.398 133.753c-.496.0-.993-.184-1.378-.551L5.035 38.143c-.397-.377-.622-.901-.622-1.449.0-3.818 3.107-6.925 6.925-6.925h190.118c3.82.0 6.926 3.107 6.926 6.925.0.548-.225 1.072-.622 1.449l-99.984 95.06C107.39 133.569 106.894 133.753 106.398 133.753M8.514 35.931l97.884 93.063 97.883-93.063c-.337-1.244-1.476-2.162-2.825-2.162H11.338C9.988 33.769 8.85 34.687 8.514 35.931M206.382 36.693h.01H206.382z"/><path fill="#f7b63e" d="M206.382 175.589c0 2.719-2.207 4.925-4.926 4.925H11.338c-2.719.0-4.925-2.206-4.925-4.925l73.042-69.447 26.943 25.611 26.941-25.611 73.043 69.447z"/><path fill="#10003b" d="M201.456 182.514H11.338c-3.818.0-6.925-3.106-6.925-6.925.0-.548.225-1.072.622-1.449l73.042-69.447c.772-.735 1.985-.735 2.756.0l25.565 24.301 25.563-24.301c.771-.735 1.984-.735 2.756.0l73.043 69.447c.398.377.622.901.622 1.449C208.382 179.408 205.275 182.514 201.456 182.514M8.514 176.352c.336 1.244 1.475 2.162 2.824 2.162h190.118c1.35.0 2.489-.918 2.826-2.162l-70.943-67.45-25.563 24.301c-.772.734-1.985.734-2.756.0l-25.565-24.301-70.941 67.45z"/><polygon fill="#ffd161" points="79.456,106.141 6.416,175.593 6.416,36.69"/><path fill="#10003b" d="M6.416 177.593c-.267.0-.534-.053-.788-.162-.735-.315-1.212-1.038-1.212-1.838V36.69c0-.8.477-1.523 1.211-1.838.736-.315 1.588-.162 2.167.389l73.04 69.451c.397.377.622.901.622 1.449s-.225 1.072-.622 1.449l-73.04 69.452C7.415 177.403 6.919 177.593 6.416 177.593m2-136.242v129.581l68.138-64.791L8.416 41.351z"/><path fill="#10003b" d="M152.941 47.313h-62.06c-1.104.0-2-.896-2-2s.896-2 2-2h62.06c1.104.0 2 .896 2 2 0 1.105-.89500000000001 2-2 2"/><path fill="#10003b" d="M80.293 47.313h-20.44c-1.105.0-2-.896-2-2s.895-2 2-2h20.44c1.104.0 2 .896 2 2 0 1.105-.896000000000001 2-2 2"/><path fill="#10003b" d="M19.219 129.813c-1.104.0-2-.896-2-2V91.12c0-1.105.896-2 2-2s2 .895 2 2v36.693C21.219 128.917 20.323 129.813 19.219 129.813"/></svg></a></li><li><a href=https://twitter.com/noctambulist30 target=_blank title=Twitter rel=me><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><style>.st0{fill:#0cf}.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}</style><g><g><g><path class="st0" d="M503.6277 98.9293c-15.8539 7.1724-33.3008 11.5266-50.4099 14.3986 8.1227-1.3628 20.0931-16.0676 24.8777-22.0133 7.3009-9.0701 13.3735-19.4058 16.7879-30.5663.4348-.8711.7665-1.9664-.1046-2.6269-1.0953-.4348-1.8006-.2122-2.6717.2241-19.0965 10.2326-38.8504 17.6575-59.8715 22.9113-1.7423.4363-3.0348.0-4.1301-1.0938-1.7408-1.9679-3.3785-3.8208-5.2328-5.3524-8.8355-7.5176-18.3165-13.4154-29.0048-17.7711-14.0355-5.7215-29.3694-8.1451-44.4853-7.1649-14.7064.9548-29.1497 5.1014-42.2035 11.9211-13.0806 6.8347-24.7522 16.3411-34.0464 27.8109-9.614 11.8628-16.7042 25.8744-20.3337 40.7227-3.504 14.3313-3.2171 28.5087-1.0788 42.997.3242 2.4013.1136 2.7255-2.0636 2.4013C167.4175 163.4898 99.2485 134.0606 43.912 71.0033c-2.4027-2.7375-3.7072-2.7375-5.6752.2107-24.2158 36.2953-12.4665 94.6127 17.7845 123.2694 4.0315 3.8208 8.1765 7.6416 12.6443 11.1262-1.6302.3347-21.7622-1.8454-39.7007-11.1262-2.4027-1.5182-3.6086-.647-3.8208 2.0785-.2226 3.9209.1121 7.5295.65 11.7851 4.6471 36.7928 30.1285 70.8273 65.0222 84.1052 4.145 1.7423 8.7249 3.2724 13.1942 4.0315-7.9524 1.7423-16.1409 2.99-38.9416 1.2058-2.8376-.5454-3.9209.8727-2.8376 3.5981 17.1345 46.6997 54.1186 60.5932 81.816 68.5098 3.7072.6485 7.4174.6485 11.1351 1.5197-.2227.3347-.4453.3347-.6575.6589-9.1881 14.0056-41.041 24.4295-55.8729 29.613-26.9756 9.4272-56.3481 13.6694-84.8568 10.8587-4.5634-.6694-5.5212-.6201-6.7585.0-1.2522.774-.1584 1.8633 1.306 3.0497 5.7872 3.8193 11.6746 7.2053 17.674 10.4792 18.1073 9.5946 36.9841 17.2346 56.7231 22.6872 101.939 28.1516 216.7675 7.4653 293.3088-68.583 60.1076-59.7206 81.1735-142.0775 81.1735-224.539.0-3.2276 3.8133-5.0102 6.0801-6.7122 15.6388-11.7508 28.068-25.8116 39.7336-41.5132 2.6209-3.5279 2.4595-6.6643 2.4595-7.9524.0-.2226.0-.4348.0-.4348C505.4955 97.6114 505.6569 98.0074 503.6277 98.9293z"/></g><g><path class="st1" d="M154.6851 458.9174c42.2722.0 2.0291.0.0.0 5.56299999999999.0-.224199999999996.0.0.0z"/></g><g><path class="st1" d="M154.6851 458.9174c-.656000000000006.0508000000000379-8.2363.0.0.0.0.0-1.31950000000001.0.0.0z"/></g><g><path class="st1" d="M171.4849 459.3537c0-.841200000000015 8.84139999999999.0.0.0.0-.436300000000017 1.0848.0.0.0z"/></g><g><path class="st1" d="M347.9839 50.2692c-.5484.4348-1.3075.4348-2.0651.0C346.6764 50.2692 347.4355 50.2692 347.9839 50.2692z"/></g></g></g></svg></a></li><li><a href=https://t.me/capriwits target=_blank title=Telegram rel=me><svg width="256" height="256" viewBox="0 0 256 256" preserveAspectRatio="xMidYMid"><title>Telegram</title><defs><linearGradient x1="50%" y1="277555756e-23%" x2="50%" y2="100%" id="telegramLinearGradient-1"><stop stop-color="#2aabee" offset="0"/><stop stop-color="#229ed9" offset="100%"/></linearGradient></defs><g><path d="M128 0C94.06.0 61.48 13.494 37.5 37.49 13.5 61.486.0 94.066.0 128s13.5 66.514 37.5 90.51C61.48 242.506 94.06 256 128 256s66.52-13.494 90.5-37.49c24-23.996 37.5-56.576 37.5-90.51s-13.5-66.514-37.5-90.51C194.52 13.494 161.94.0 128 0z" fill="url(#telegramLinearGradient-1)"/><path d="M57.94 126.6476c37.32-16.256 62.2-26.974 74.64-32.152 35.56-14.786 42.94-17.354 47.76-17.4408458C181.4 77.0376 183.76 77.2996 185.3 78.5456 186.58 79.5956 186.94 81.0156 187.12 82.0116 187.28 83.0076 187.5 85.2776 187.32 87.0496 185.4 107.2896 177.06 156.4056 172.82 179.0756 171.04 188.668 167.5 191.884 164.08 192.198 156.64 192.882 151 187.286 143.8 182.5676c-11.26-7.386-17.62-11.982-28.56-19.188C102.6 155.0516 110.8 150.4736 118 142.9936c1.88-1.958 34.64-31.748 35.26-34.45C153.34 108.2056 153.42 106.9456 152.66 106.2816 151.92 105.6156 150.82 105.8436 150.02 106.0236c-1.14000000000001.256-19.12 12.152-54 35.686C90.92 145.2176 86.3 146.9276 82.14 146.8376 77.58 146.7396 68.78 144.2536 62.24 142.1296 54.24 139.5236 47.86 138.1456 48.42 133.7196 48.7 131.4156 51.88 129.0576 57.94 126.6476z" fill="#fff"/></g></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/link/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>å‹é“¾</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#å³æ—‹-rightrotate>å³æ—‹ RightRotate</a></li><li><a href=#å·¦æ—‹-leftrotate>å·¦æ—‹ LeftRotate</a></li><li><a href=#å…ˆå·¦æ—‹åå³æ—‹>å…ˆå·¦æ—‹åå³æ—‹</a></li><li><a href=#å…ˆå³æ—‹å†å·¦æ—‹>å…ˆå³æ—‹å†å·¦æ—‹</a></li><li><a href=#avl-æ—‹è½¬ç­–ç•¥>AVL æ—‹è½¬ç­–ç•¥</a></li></ol><ol><li><a href=#é€’å½’æ³•>é€’å½’æ³•</a></li><li><a href=#é€’å½’æ³•-1>é€’å½’æ³•</a></li></ol><ol><li><a href=#é€’å½’æ³•-2>é€’å½’æ³•</a></li><li><a href=#è¿­ä»£æ³•>è¿­ä»£æ³•</a><ol><li><a href=#å•æ ˆé”™è¯¯ä»£ç >å•æ ˆï¼ˆé”™è¯¯ä»£ç ï¼‰</a></li><li><a href=#åŒæ ˆå¯è¡Œæ–¹æ¡ˆ>åŒæ ˆï¼ˆå¯è¡Œæ–¹æ¡ˆï¼‰</a></li><li><a href=#å•æ ˆä¿®æ”¹ç‰ˆ>å•æ ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/avl-tree-source-code-analysis/><img src=/post/avl-tree-source-code-analysis/Tree-icon_hu13856297805649401437.png srcset="/post/avl-tree-source-code-analysis/Tree-icon_hu13856297805649401437.png 800w, /post/avl-tree-source-code-analysis/Tree-icon_hu5327226700978772785.png 1600w" width=800 height=800 loading=lazy alt="Featured image of post äºŒå‰å¹³è¡¡æ ‘æºç è§£æ"></a></div><div class=article-details><header class=article-category><a href=/categories/data-structure/>Data Structure</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/avl-tree-source-code-analysis/>äºŒå‰å¹³è¡¡æ ‘æºç è§£æ</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 23, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 22 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><ul><li><a class=link href=#%e4%ba%8c%e5%8f%89%e5%b9%b3%e8%a1%a1%e6%a0%91-avl>äºŒå‰å¹³è¡¡æ ‘ AVL</a></li><li><a class=link href=#%e6%a0%91%e8%8a%82%e7%82%b9%e5%ae%9a%e4%b9%89>æ ‘èŠ‚ç‚¹å®šä¹‰</a></li><li><a class=link href=#%e6%a0%91%e9%ab%98%e5%ba%a6>æ ‘é«˜åº¦</a></li><li><a class=link href=#%e5%b9%b3%e8%a1%a1%e5%9b%a0%e5%ad%90>å¹³è¡¡å› å­</a></li><li><a class=link href=#%e6%a0%91%e7%9a%84%e6%97%8b%e8%bd%ac>æ ‘çš„æ—‹è½¬</a><ul><li><a class=link href=#%e5%8f%b3%e6%97%8b-rightrotate>å³æ—‹ RightRotate</a></li><li><a class=link href=#%e5%b7%a6%e6%97%8b-leftrotate>å·¦æ—‹ LeftRotate</a></li><li><a class=link href=#%e5%85%88%e5%b7%a6%e6%97%8b%e5%90%8e%e5%8f%b3%e6%97%8b>å…ˆå·¦æ—‹åå³æ—‹</a></li><li><a class=link href=#%e5%85%88%e5%8f%b3%e6%97%8b%e5%86%8d%e5%b7%a6%e6%97%8b>å…ˆå³æ—‹å†å·¦æ—‹</a></li><li><a class=link href=#avl-%e6%97%8b%e8%bd%ac%e7%ad%96%e7%95%a5>AVL æ—‹è½¬ç­–ç•¥</a></li></ul></li><li><a class=link href=#%e6%8f%92%e5%85%a5%e8%8a%82%e7%82%b9>æ’å…¥èŠ‚ç‚¹</a><ul><li><a class=link href=#%e9%80%92%e5%bd%92%e6%b3%95>é€’å½’æ³•</a></li><li><a class=link href=#%e9%80%92%e5%bd%92%e6%b3%95-1>é€’å½’æ³•</a></li></ul></li><li><a class=link href=#%e5%88%a0%e9%99%a4%e8%8a%82%e7%82%b9>åˆ é™¤èŠ‚ç‚¹</a><ul><li><a class=link href=#%e9%80%92%e5%bd%92%e6%b3%95-2>é€’å½’æ³•</a></li><li><a class=link href=#%e8%bf%ad%e4%bb%a3%e6%b3%95>è¿­ä»£æ³•</a><ul><li><a class=link href=#%e5%8d%95%e6%a0%88%e9%94%99%e8%af%af%e4%bb%a3%e7%a0%81>å•æ ˆï¼ˆé”™è¯¯ä»£ç ï¼‰</a></li><li><a class=link href=#%e5%8f%8c%e6%a0%88%e5%8f%af%e8%a1%8c%e6%96%b9%e6%a1%88>åŒæ ˆï¼ˆå¯è¡Œæ–¹æ¡ˆï¼‰</a></li><li><a class=link href=#%e5%8d%95%e6%a0%88%e4%bf%ae%e6%94%b9%e7%89%88>å•æ ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰</a></li></ul></li></ul></li><li><a class=link href=#%e6%9f%a5%e6%89%be%e8%8a%82%e7%82%b9>æŸ¥æ‰¾èŠ‚ç‚¹</a></li><li><a class=link href=#%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95>å•å…ƒæµ‹è¯•</a></li><li><a class=link href=#algorithm-4th-%e5%ae%9e%e7%8e%b0%e6%ba%90%e7%a0%81>Algorithm 4th å®ç°æºç </a></li><li><a class=link href=#reference>Reference</a></li></ul><h1 id=äºŒå‰å¹³è¡¡æ ‘-avl>äºŒå‰å¹³è¡¡æ ‘ AVL</h1><h1 id=æ ‘èŠ‚ç‚¹å®šä¹‰>æ ‘èŠ‚ç‚¹å®šä¹‰</h1><p>æ ‘èŠ‚ç‚¹ç»“æ„ï¼š</p><ul><li>èŠ‚ç‚¹çš„å€¼ int</li><li>å·¦å³å­æ ‘èŠ‚ç‚¹</li><li>æ ‘çš„é«˜åº¦ï¼ˆéœ€è¦è®¡ç®—å·¦å³å­æ ‘ç›¸å¯¹é«˜åº¦ï¼Œå†³å®šæ˜¯å¦å¹³è¡¡ï¼‰<ul><li>â€œèŠ‚ç‚¹é«˜åº¦â€æ˜¯æŒ‡ä»<strong>è¯¥èŠ‚ç‚¹åˆ°å®ƒçš„æœ€è¿œå¶èŠ‚ç‚¹çš„è·ç¦»</strong>ï¼Œå³æ‰€ç»è¿‡çš„â€œè¾¹â€çš„æ•°é‡ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¶èŠ‚ç‚¹çš„é«˜åº¦ä¸º 0ï¼Œè€Œç©ºèŠ‚ç‚¹çš„é«˜åº¦ä¸º
-1</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>TreeNode</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>TreeNode</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=æ ‘é«˜åº¦>æ ‘é«˜åº¦</h1><ul><li>å®šä¹‰å¶å­ç»“ç‚¹çš„é«˜åº¦æ˜¯ 0ï¼Œç”±äºæ›´æ–°é«˜åº¦æ˜¯å–å·¦å³å­æ ‘çš„é«˜åº¦æœ€å¤§å€¼ + 1ï¼Œè€Œç©ºèŠ‚ç‚¹åœ¨å¶å­ç»“ç‚¹çš„ä¸‹é¢ï¼Œæ‰€ä»¥ç©ºèŠ‚ç‚¹çš„é«˜åº¦æ˜¯ -1</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>height</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>updateHeight</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>root</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=å¹³è¡¡å› å­>å¹³è¡¡å› å­</h1><ul><li>èŠ‚ç‚¹çš„å¹³è¡¡å› å­ï¼ˆbalance factorï¼‰å®šä¹‰ä¸ºèŠ‚ç‚¹å·¦å­æ ‘çš„é«˜åº¦å‡å»å³å­æ ‘çš„é«˜åº¦ï¼ŒåŒæ—¶è§„å®šç©ºèŠ‚ç‚¹çš„å¹³è¡¡å› å­ä¸º 0</li><li>æ‰€ä»¥ä»»æ„ä¸€æ£µ AVL çš„å¹³è¡¡å› å­ $f$ æ»¡è¶³ $-1 \le f \le 1$ï¼Œå³å·¦å³å­æ ‘é«˜åº¦ç›¸å·®ä¸ä¼šè¶…è¿‡ 1</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>balanceFactor</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=æ ‘çš„æ—‹è½¬>æ ‘çš„æ—‹è½¬</h1><h2 id=å³æ—‹-rightrotate>å³æ—‹ RightRotate</h2><p><img src=/post/avl-tree-source-code-analysis/AVL-right-rotate.png width=1358 height=564 srcset="/post/avl-tree-source-code-analysis/AVL-right-rotate_hu13235464171685162822.png 480w, /post/avl-tree-source-code-analysis/AVL-right-rotate_hu17499135069455757914.png 1024w" loading=lazy alt=AVL-right-rotate.png class=gallery-image data-flex-grow=240 data-flex-basis=577px></p><ul><li>ä»¥ <code>child</code> ä¸ºåŸç‚¹ï¼Œå‘å³æ—‹è½¬</li><li>å†…ä¾§å­æ ‘ï¼ˆå³æ—‹ï¼Œæ˜¯å·¦å­æ ‘çš„å³ä¾§å­æ ‘ï¼‰ç§»æ¥åˆ°æ—‹è½¬çš„å¦ä¸€ä¾§å†…ä¾§<ul><li>å³æ ¹å·¦ä¾§çš„å³å­æ ‘ï¼Œç§»åŠ¨åˆ°æ ¹å³ä¾§çš„å·¦å­æ ‘</li></ul></li><li>æ¶‰åŠåˆ°é«˜åº¦å˜åŒ–çš„æ˜¯æ—§ <code>root</code> å’Œæ–°æ ¹ <code>child</code>ï¼Œå› æ­¤éœ€è¦æ›´æ–°</li><li>child å˜æˆæ–°çš„æ ¹èŠ‚ç‚¹</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>rightRotate</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>grandChild</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>child</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>grandChild</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>child</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å·¦æ—‹-leftrotate>å·¦æ—‹ LeftRotate</h2><p><img src=/post/avl-tree-source-code-analysis/AVL-left-rotate.png width=1358 height=606 srcset="/post/avl-tree-source-code-analysis/AVL-left-rotate_hu12715530219639605010.png 480w, /post/avl-tree-source-code-analysis/AVL-left-rotate_hu11048362930554123095.png 1024w" loading=lazy alt=AVL-left-rotate.png class=gallery-image data-flex-grow=224 data-flex-basis=537px></p><ul><li>å·¦æ—‹åŒç†ï¼Œä¸å³æ—‹é•œåƒå¯¹ç§°</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>leftRotate</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>grandChild</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>child</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>grandChild</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>child</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å…ˆå·¦æ—‹åå³æ—‹>å…ˆå·¦æ—‹åå³æ—‹</h2><p><img src=/post/avl-tree-source-code-analysis/AVL-left-right-rotate.png width=1332 height=564 srcset="/post/avl-tree-source-code-analysis/AVL-left-right-rotate_hu13391021936473892841.png 480w, /post/avl-tree-source-code-analysis/AVL-left-right-rotate_hu2147079456684721470.png 1024w" loading=lazy alt=AVL-left-right-rotate.png class=gallery-image data-flex-grow=236 data-flex-basis=566px></p><h2 id=å…ˆå³æ—‹å†å·¦æ—‹>å…ˆå³æ—‹å†å·¦æ—‹</h2><p><img src=/post/avl-tree-source-code-analysis/AVL-right-left-rotate.png width=1288 height=556 srcset="/post/avl-tree-source-code-analysis/AVL-right-left-rotate_hu18150018642734417377.png 480w, /post/avl-tree-source-code-analysis/AVL-right-left-rotate_hu6729394580757441371.png 1024w" loading=lazy alt=AVL-right-left-rotate.png class=gallery-image data-flex-grow=231 data-flex-basis=555px></p><h2 id=avl-æ—‹è½¬ç­–ç•¥>AVL æ—‹è½¬ç­–ç•¥</h2><p><img src=/post/avl-tree-source-code-analysis/AVL-rotate-type.png width=1358 height=616 srcset="/post/avl-tree-source-code-analysis/AVL-rotate-type_hu15933520800851606368.png 480w, /post/avl-tree-source-code-analysis/AVL-rotate-type_hu11090330715206664053.png 1024w" loading=lazy alt=AVL-rotate-type.png class=gallery-image data-flex-grow=220 data-flex-basis=529px></p><p><img src=/post/avl-tree-source-code-analysis/AVL-rotate-type-table.png width=834 height=436 srcset="/post/avl-tree-source-code-analysis/AVL-rotate-type-table_hu6270053115518374375.png 480w, /post/avl-tree-source-code-analysis/AVL-rotate-type-table_hu12335840406670961472.png 1024w" loading=lazy alt=AVL-rotate-type-table.png class=gallery-image data-flex-grow=191 data-flex-basis=459px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>rotate</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>balanceFactor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// å·¦åæ ‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>rightRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// LL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// LR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>leftRotate</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>rightRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å³åæ ‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>leftRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// RR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// RL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rightRotate</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>leftRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// å…¶ä»–æƒ…å†µæ˜¯å¹³è¡¡æ ‘ï¼Œæ— éœ€æ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=æ’å…¥èŠ‚ç‚¹>æ’å…¥èŠ‚ç‚¹</h1><h2 id=é€’å½’æ³•>é€’å½’æ³•</h2><ul><li>ç±»ä¼¼ BST æ’å…¥ï¼Œå…ˆæ‰¾ä½ç½®æ’å…¥</li><li>æ’å…¥åéœ€è¦æ›´æ–°èŠ‚ç‚¹é«˜åº¦ï¼Œç”±äºæ˜¯é€’å½’è°ƒç”¨ï¼Œå› æ­¤åœ¨æ¯ä¸€å±‚éå†æ›´æ–°ä¸€æ¬¡èŠ‚ç‚¹é«˜åº¦å³å¯</li><li>æ’å…¥åæ—‹è½¬å½“å‰èŠ‚ç‚¹ï¼Œå¹³è¡¡å­æ ‘ï¼ŒåŒæ ·åœ¨é€’å½’ä¸­è°ƒç”¨ï¼Œæ¯ä¸€å±‚éƒ½ä¼šæ—‹è½¬è°ƒæ•´</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>insert</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>insert</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>insert</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w> </span><span class=c1>// é‡å¤èŠ‚ç‚¹ï¼Œä¸æ’å…¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>  </span><span class=c1>// æ’å…¥åæ›´æ–°é«˜åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// æ—‹è½¬æ“ä½œï¼Œä½¿å­æ ‘å¹³è¡¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=é€’å½’æ³•-1>é€’å½’æ³•</h2><ul><li>è¿­ä»£æ³•ï¼Œå‘ä¸‹æ‰¾åˆ°æ’å…¥ä½ç½®çš„è¿‡ç¨‹ï¼Œå°†è·¯å¾„ä¿å­˜åœ¨æ ˆä¸­ï¼Œç„¶åè‡ªåº•å‘ä¸Šæ›´æ–°é«˜åº¦å’Œæ—‹è½¬</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>insert</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>stack</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰¾åˆ°æ’å…¥ä½ç½®</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w> </span><span class=c1>// é‡å¤å€¼, ä¸æ’å…¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ’å…¥èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ›´æ–°é«˜åº¦, æ—‹è½¬ç»´æŠ¤ AVL å¹³è¡¡, è‡ªåº•å‘ä¸Š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æ—‹è½¬å, å­æ ‘æ ¹èŠ‚ç‚¹å¯èƒ½å˜åŒ–, æ›´æ–°çˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>parent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span><span class=w> </span><span class=c1>// ä¸èƒ½ pop, ä¸‹ä¸€æ¬¡ while-loop éœ€è¦æ›´æ–°é«˜åº¦å’Œæ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>  </span><span class=c1>// node å³æ˜¯ AVL çš„æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=åˆ é™¤èŠ‚ç‚¹>åˆ é™¤èŠ‚ç‚¹</h1><h2 id=é€’å½’æ³•-2>é€’å½’æ³•</h2><ul><li>å¦‚ä¸‹åšæ³•ï¼Œç±»ä¼¼ BSTï¼Œéœ€è¦åœ¨åˆ é™¤èŠ‚ç‚¹åï¼Œæ›´æ–° AVL é«˜åº¦å’Œæ—‹è½¬è°ƒæ•´å¹³è¡¡ï¼Œå› æ­¤æ¶‰åŠåˆ°é€’å½’æ“ä½œ</li><li>æ ¹æ® <code>val</code> é€’å½’æœç´¢èŠ‚ç‚¹ä½ç½®ï¼Œå¹¶ä¸”éœ€è¦é‡æ–°è°ƒæ•´ <code>remove</code> åçš„èŠ‚ç‚¹ä½ç½®ï¼Œå› ä¸ºæ¶‰åŠæ—‹è½¬ï¼Œå­æ ‘æ ¹èŠ‚ç‚¹å¯èƒ½å‘ç”Ÿå˜åŒ–</li><li>èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ªä¸ºä¸€ç§æƒ…å†µï¼Œç›´æ¥å–å­èŠ‚ç‚¹ä½œä¸ºæ–°çš„å­æ ‘èŠ‚ç‚¹åˆ é™¤å³å¯</li><li>èŠ‚ç‚¹æœ‰ä¸¤ä¸ªï¼Œéœ€è¦å–ä¸­åºéå†çš„ç›¸é‚»è¾ƒå¤§èŠ‚ç‚¹ï¼ˆæˆ–è€…ç›¸é‚»è¾ƒå°èŠ‚ç‚¹ï¼‰ï¼Œä»¥ä¸‹åšæ³•æ˜¯å°† <code>root</code> å€¼æ›¿æ¢ä¸º <code>successor</code> çš„å€¼ï¼Œç„¶åå°†å³ä¾§å­æ ‘çš„
<code>successor</code> åˆ é™¤æ‰ï¼Œå®ç°åˆ é™¤ <code>root</code> çš„éœ€æ±‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰¾èŠ‚ç‚¹åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// å­èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ª</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>child</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w> </span><span class=c1>// æ— å­èŠ‚ç‚¹ï¼Œæ•´æ ‘åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>  </span><span class=c1>// æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¸ºæ–°æ ¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å­èŠ‚ç‚¹æœ‰ 2 ä¸ª</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>val</span><span class=p>;</span><span class=w>  </span><span class=c1>// å€¼æ›¿æ¢</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// åˆ é™¤åæ›´æ–°é«˜åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// æ—‹è½¬æ“ä½œï¼Œä½¿å­æ ‘å¹³è¡¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>å¦‚æœéœ€è¦å¼•ç”¨åˆ é™¤ï¼Œè€Œä¸æ˜¯ç®€ç­”åœ°è¿›è¡Œå€¼æ›¿æ¢<ul><li>ä¸€æ ·å…ˆæ‰¾åç»§èŠ‚ç‚¹ï¼Œç„¶å <code>remove</code> é€’å½’åˆ é™¤æ‰å³å­æ ‘çš„åç»§èŠ‚ç‚¹ï¼ˆé€’å½’åˆ é™¤ä¼šæ›´æ–°é«˜åº¦å’Œæ—‹è½¬ï¼‰ï¼Œç„¶åç›´æ¥å°† <code>root</code>
å·¦å³å­æ ‘æ¥åœ¨åç»§èŠ‚ç‚¹ï¼Œå®ç°æ›¿æ¢ï¼Œæœ€åéœ€è¦å°†æ–°çš„ <code>root</code> æ›´æ–°ä¸ºåç»§èŠ‚ç‚¹ï¼ˆè¿™æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºé€’å½’è°ƒç”¨ä¸­ï¼Œå½“å‰æ–¹æ³•æ ˆçš„é«˜åº¦å’Œæ—‹è½¬ç»´æŠ¤æ˜¯åŸºäº
<code>root</code> çš„ï¼‰</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰¾èŠ‚ç‚¹åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// å­èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ª</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>child</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w> </span><span class=c1>// æ— å­èŠ‚ç‚¹ï¼Œæ•´æ ‘åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>  </span><span class=c1>// æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¸ºæ–°æ ¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å­èŠ‚ç‚¹æœ‰ 2 ä¸ª</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w> </span><span class=c1>// æ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// åç»§èŠ‚ç‚¹æ›¿æ¢ root; å…ˆå°†å…¶ä»å³å­æ ‘åˆ é™¤, å†ç›´æ¥æ›¿ä»£ root, æœ€åéœ€è¦æŠŠ root æ›´æ–°ä¸ºåç»§èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// åˆ é™¤åæ›´æ–°é«˜åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// æ—‹è½¬æ“ä½œï¼Œä½¿å­æ ‘å¹³è¡¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=è¿­ä»£æ³•>è¿­ä»£æ³•</h2><ul><li>è¿­ä»£æ³•ï¼Œç”¨æ ˆè®°å½•å‘ä¸‹éå†çš„è·¯å¾„ï¼Œåˆ é™¤èŠ‚ç‚¹åè‡ªåº•å‘ä¸Šæ›´æ–°æ ‘é«˜åº¦å’Œæ—‹è½¬å¹³è¡¡<ul><li>ä¸ BST çš„åˆ é™¤æ“ä½œè¿­ä»£æ³•ç±»ä¼¼ï¼Œå…ˆè®© <code>cur</code> ç§»åŠ¨åˆ°å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œç„¶åæ‰¾åˆ°ä¸­åºéå†è¾ƒå¤§çš„èŠ‚ç‚¹ <code>successor</code>ï¼Œå³å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ï¼›å°†
<code>successor</code> ä»å³å­æ ‘ç§»é™¤ï¼Œå†ç›´æ¥æ›¿ä»£ <code>cur</code> çš„ä½ç½®ï¼Œæ¥ä¸Š <code>cur</code> çš„å·¦å³å­æ ‘åˆ° <code>successor</code> ä¸Šå³å¯ã€‚</li><li>å‰¥ç¦» <code>successor</code> çš„è¿‡ç¨‹ï¼Œä¸€æ ·éœ€è¦è®°å½•åˆ° <code>stack</code> ä¸­ï¼Œå› ä¸ºè¿™ä¸€åˆ é™¤è¿‡ç¨‹ä¹Ÿéœ€è¦æ›´æ–°æ ‘é«˜åº¦å’Œæ—‹è½¬å¹³è¡¡</li><li>ä¸åŒäº BST åˆ é™¤çš„æ˜¯ï¼ŒBST åˆ é™¤å¯ä»¥å°† <code>successor.right</code> äº¤ç»™ <code>successorParent.left</code>ï¼Œè‡ªå·±æˆä¸ºæ–°çš„ <code>root</code>ï¼Œ<code>root.left</code>
æ¥ç®¡ <code>cur.left</code>ï¼›AVL åˆ é™¤æ¶‰åŠ<strong>é€’å½’åœ°</strong>æ›´æ–°æ¯ä¸ªå¯èƒ½å˜åŒ–çš„èŠ‚ç‚¹çš„é«˜åº¦å’Œæ—‹è½¬å¹³è¡¡ï¼Œå‚è€ƒé€’å½’æ³•æ˜¯ç”¨
<code>remove(root.right, successor.val)</code> ï¼Œå¯ä»¥ä¿è¯é€’å½’è¿‡ç¨‹çš„æ‰€æœ‰èŠ‚ç‚¹æœ€åéƒ½æ˜¯æ›´æ–°é«˜åº¦å’Œæ—‹è½¬çš„ã€‚</li></ul></li></ul><h3 id=å•æ ˆé”™è¯¯ä»£ç >å•æ ˆï¼ˆé”™è¯¯ä»£ç ï¼‰</h3><ul><li>é¦–å…ˆæ‰¾åˆ°åŒ <code>val</code> å€¼çš„å¾…åˆ é™¤èŠ‚ç‚¹ <code>cur</code>ï¼Œè¿‡ç¨‹éœ€è¦ç”¨ <code>stack</code> è®°å½•è·¯å¾„ï¼Œåç»­è‡ªåº•å‘ä¸Šæ›´æ–°é«˜åº¦å’Œæ—‹è½¬å¹³è¡¡ï¼›è¿˜éœ€è¦ç»´æŠ¤ä¸€ä¸ªå‰ç»§çˆ¶èŠ‚ç‚¹
<code>pre</code>ï¼Œåˆ é™¤ <code>cur</code> åéœ€è¦ä¿®æ”¹ <code>pre</code> çš„æŒ‡å‘</li><li><code>cur</code> æœ‰ 0 æˆ– 1 ä¸ªå­èŠ‚ç‚¹ï¼Œç›´æ¥å–å­©å­ä½œä¸ºæ–°çš„å­æ ‘ï¼Œæ¥åœ¨ <code>pre</code> ä¸Šï¼Œå³ <code>cur</code> è¢«ç§»é™¤</li><li><code>cur</code> æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè¿™é‡Œä»¥ä¸­åºéå†çš„è¾ƒå¤§åç»­èŠ‚ç‚¹æ›¿æ¢ <code>cur</code> ä¸ºä¾‹ï¼ˆé€‰æ‹©è¾ƒå° <code>predecessor</code> ä¹Ÿè¡Œï¼‰<ul><li>å‚è€ƒé€’å½’æ³• <code>root.right = remove(root.right, successor.val);</code> å³åˆ é™¤å³å­æ ‘çš„åç»§èŠ‚ç‚¹ <code>successor</code>ï¼Œç„¶å <code>successor</code>
æ›¿æ¢ <code>cur</code>ï¼ˆ<code>successor</code> æ¥åœ¨ <code>pre</code> ä¸Šå³å¯ï¼‰</li><li>è¿™ä¸€è¿‡ç¨‹ä¹Ÿå¯ä»¥ç”¨è¿­ä»£æ³•æ¥åšï¼Œæ‰¾ <code>successor</code> è¿‡ç¨‹ä¾ç„¶ç”¨ <code>stack</code> è®°å½•è¿‡ç¨‹</li></ul></li><li>åˆ é™¤ <code>cur</code> åï¼Œéœ€è¦ç”¨æ ˆè‡ªåº•å‘ä¸Šæ›´æ–°é«˜åº¦å’Œæ—‹è½¬å¹³è¡¡<ul><li>ç”±äºæ—‹è½¬å¹³è¡¡åï¼Œå¯èƒ½å­æ ‘çš„æ ¹èŠ‚ç‚¹ä¼šå˜ï¼Œå› æ­¤è¿˜éœ€è¦å†ä» <code>stack.peek</code> ä¸­æ‰¾åˆ°å½“å‰ <code>pop</code> å‡ºèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œæ›´æ–°è¯¥çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå¯¹åº”äº†é€’å½’æ³•çš„
<code>root.left = remove(root.left, val);</code> ï¼Œæ¯å±‚é€’å½’è¿‡åéƒ½ä¼š <code>rotate</code> è¿”å›å­æ ‘çš„æ–°èŠ‚ç‚¹ï¼Œè¿˜éœ€è¦æ›´æ–°çˆ¶èŠ‚ç‚¹æŒ‡å‘ã€‚</li></ul></li></ul><blockquote><p>é‡ç‚¹åœ¨äºè¿­ä»£è¿‡ç¨‹çš„ <code>stack</code> è®°å½•çš„èŠ‚ç‚¹ä¸èƒ½æ¼ï¼ˆå°‘æ›´æ–°é«˜åº¦å’Œå¹³è¡¡ï¼‰ï¼ŒåŒæ—¶ <code>stack</code> å‹å…¥çš„èŠ‚ç‚¹è¿˜éœ€è¦ä¿è¯ç›¸é‚»èŠ‚ç‚¹ä¸ºçˆ¶å­å…³ç³»</p></blockquote><p>ä»¥ä¸‹ä»£ç é—®é¢˜åœ¨äºï¼š<code>stack</code> å…ˆè®°å½•äº† <code>[root, cur]</code> ä½ç½®ï¼Œç„¶ååˆè®°å½•äº† <code>[cur, successor]</code> ï¼Œä½†æ›´æ–°é«˜åº¦æ—¶ï¼Œç”±äº <code>cur</code> å·²è¢«åˆ é™¤ï¼Œè™½ç„¶
<code>pre</code> çš„å­©å­å·²ç»æ”¹ä¸º <code>successor</code>ï¼Œä½†æ˜¯ <code>cur</code> å·²ç»å…¥æ ˆï¼Œåœ¨ <code>stack.peek</code> å‡ºçš„ <code>pre</code> è¿˜æ˜¯ä¼šæŒ‡å‘æ—§çš„ <code>cur</code> èŠ‚ç‚¹ï¼Œå¼•å‘é”™è¯¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰¾èŠ‚ç‚¹åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>stack</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span><span class=w> </span><span class=c1>// è®°å½•è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>  </span><span class=c1>// æ²¡æœ‰æ‰¾åˆ°, å¿½ç•¥åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// cur å°±æ˜¯å¾…åˆ é™¤èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å¾…åˆ é™¤èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ªå­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// åˆ é™¤æ ¹èŠ‚ç‚¹, ä¸å½±å“å­æ ‘é«˜åº¦å’Œå¹³è¡¡, å¯ç›´æ¥è¿”å›</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>successorParent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>successor</span><span class=p>);</span><span class=w>  </span><span class=c1>// è®°å½•è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// cur å³å­æ ‘åˆ é™¤ successor èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>successorParent</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// successor æ˜¯ cur çš„ç›´æ¥å³å­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// åˆ é™¤ cur, successor æ›¿æ¢ cur</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// ç»´æŠ¤æ–°çš„ root(cur çš„çˆ¶èŠ‚ç‚¹)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w> </span><span class=c1>// åˆ é™¤æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ›´æ–°é«˜åº¦, æ—‹è½¬ç»´æŠ¤ AVL å¹³è¡¡, è‡ªåº•å‘ä¸Š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æ—‹è½¬å, å­æ ‘æ ¹èŠ‚ç‚¹å¯èƒ½å˜åŒ–, æ›´æ–°çˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>parent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span><span class=w> </span><span class=c1>// ä¸èƒ½ pop, ä¸‹ä¸€æ¬¡ while-loop éœ€è¦æ›´æ–°é«˜åº¦å’Œæ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>  </span><span class=c1>// node å³æ˜¯ AVL çš„æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=åŒæ ˆå¯è¡Œæ–¹æ¡ˆ>åŒæ ˆï¼ˆå¯è¡Œæ–¹æ¡ˆï¼‰</h3><ul><li>ä»¥ä¸Šé”™è¯¯å‡ºåœ¨ï¼Œå·²è¢«åˆ é™¤çš„ <code>cur</code> å‚ä¸åˆ°é«˜åº¦æ›´æ–°ä¸­</li><li>å¯ä»¥è€ƒè™‘åŒæ ˆï¼Œ<code>stackCur</code> è®°å½• <code>[root, cur)</code> ï¼Œ<code>stackSucc</code> è®°å½• <code>(cur, successor]</code></li><li>è€ƒè™‘åŒæ ˆçš„ç›®çš„æ˜¯ï¼šæ¯é€’å½’è°ƒç”¨ä¸€æ¬¡ <code>remove</code> å°±ç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œè¿™é‡Œæ¶‰åŠåˆ°é€’å½’ç§»é™¤ <code>cur</code> å³å­æ ‘çš„ <code>successor</code>ï¼Œæ‰€ä»¥å†åŠ ä¸€ä¸ªæ ˆ</li><li>å‡ ä¸ªç»†èŠ‚<ol><li>ä¿è¯ <code>cur</code> ä¸èƒ½åŠ å…¥åˆ° <code>stackCur</code></li><li>ä¿è¯ <code>successor</code> æ›¿ä»£ <code>cur</code> åï¼ŒåŠ å…¥åˆ° <code>stackCur</code> ï¼Œä¿è¯ <code>successor</code> åœ¨æ ˆä¸­ç›¸é‚»çš„ç›´æ¥çˆ¶èŠ‚ç‚¹å°±æ˜¯ <code>pre</code></li><li>æ›´æ–°é«˜åº¦éœ€è¦è‡ªåº•å‘ä¸Šï¼Œå…ˆæ›´æ–° <code>stackSucc</code> ï¼Œå†æ›´æ–° <code>stackCur</code> ï¼›<code>stackSucc</code> ä¸èƒ½æ›´æ–°åˆ° rootï¼Œè€Œ <code>stackCur</code> æœ€é¡¶å±‚éœ€è¦æ›´æ–°
<code>root</code>ï¼ˆæœ‰å¯èƒ½åˆ é™¤çš„æ˜¯ <code>AVL</code> æ ¹èŠ‚ç‚¹ï¼‰</li></ol></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰¾èŠ‚ç‚¹åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>stackCur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>  </span><span class=c1>// è®°å½• Cur ä¹‹å‰çš„è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>stackSucc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w> </span><span class=c1>// è®°å½• Cur åˆ° Successor çš„è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stackCur</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span><span class=w> </span><span class=c1>// è®°å½•è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>  </span><span class=c1>// æ²¡æœ‰æ‰¾åˆ°, å¿½ç•¥åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>stackCur</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w> </span><span class=c1>// cur ä¼šè¢«åˆ é™¤, æ‰€ä»¥ä¸éœ€è¦å†æ›´æ–°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// cur å°±æ˜¯å¾…åˆ é™¤èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å¾…åˆ é™¤èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ªå­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// åˆ é™¤æ ¹èŠ‚ç‚¹, ä¸å½±å“å­æ ‘é«˜åº¦å’Œå¹³è¡¡, å¯ç›´æ¥è¿”å›</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>successorParent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>stackSucc</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>successor</span><span class=p>);</span><span class=w>  </span><span class=c1>// è®°å½•è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// cur å³å­æ ‘åˆ é™¤ successor èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>successorParent</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// successor æ˜¯ cur çš„ç›´æ¥å³å­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// åˆ é™¤ cur, successor æ›¿æ¢ cur</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stackCur</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>successor</span><span class=p>);</span><span class=w>  </span><span class=c1>// successor æ›¿æ¢ cur, åŠ å…¥åˆ° stackCur ä¸­, å…¶çˆ¶èŠ‚ç‚¹æ—¶ pre</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// ç»´æŠ¤æ–°çš„ root(cur çš„çˆ¶èŠ‚ç‚¹)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w> </span><span class=c1>// åˆ é™¤æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ›´æ–°é«˜åº¦, æ—‹è½¬ç»´æŠ¤ AVL å¹³è¡¡, è‡ªåº•å‘ä¸Š, æ‰€ä»¥ä» stackSucc å¼€å§‹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stackSucc</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stackSucc</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æ—‹è½¬å, å­æ ‘æ ¹èŠ‚ç‚¹å¯èƒ½å˜åŒ–, æ›´æ–°çˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stackSucc</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>parent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stackSucc</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span><span class=w> </span><span class=c1>// ä¸èƒ½ pop, ä¸‹ä¸€æ¬¡ while-loop éœ€è¦æ›´æ–°é«˜åº¦å’Œæ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ç„¶åå†æ›´æ–° stackCur, åŒºåˆ«äº stackSucc, å¤šäº† root èŠ‚ç‚¹çš„æ›´æ–°, å¯èƒ½åˆ é™¤çš„èŠ‚ç‚¹æ˜¯ root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stackCur</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stackCur</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æ—‹è½¬å, å­æ ‘æ ¹èŠ‚ç‚¹å¯èƒ½å˜åŒ–, æ›´æ–°çˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stackCur</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>parent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stackCur</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span><span class=w> </span><span class=c1>// ä¸èƒ½ pop, ä¸‹ä¸€æ¬¡ while-loop éœ€è¦æ›´æ–°é«˜åº¦å’Œæ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>  </span><span class=c1>// node å³æ˜¯ AVL çš„æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å•æ ˆä¿®æ”¹ç‰ˆ>å•æ ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰</h3><ul><li>ä»¥ä¸Šå¼€å¯åŒæ ˆçš„ç›®çš„æ˜¯ <code>cur</code> å¤¹åœ¨ <code>stack</code> ä¸­é—´ï¼Œ<code>cur</code> è¢«åˆ é™¤åç ´å <code>stack</code> ç›¸é‚»èŠ‚ç‚¹æ˜¯çˆ¶å­å…³ç³»çš„é€»è¾‘ï¼Œåœ¨ç»´æŠ¤é«˜åº¦å’Œæ—‹è½¬çš„æ—¶å€™ä¸æ­£ç¡®</li><li>å¯ä»¥æƒ³åˆ°æ‰¾åˆ° <code>successor</code> åï¼Œå¯ä»¥ç›´æ¥å°† <code>stack</code> ä¸­å¤¹åœ¨ä¸­é—´çš„ <code>cur</code> æ›¿æ¢ä¸º <code>successor</code>ï¼Œå³ stack è®°å½•è¿‡ç¨‹ï¼š
<code>[root, cur] + [cur.right, successor) + replace(stack, cur, successor)</code></li><li><code>cur</code> åªæœ‰ 0 æˆ– 1 ä¸ªå­èŠ‚ç‚¹æƒ…å†µ<ul><li>å¤šäº†ä¸€ä¸ªæ­¥éª¤ï¼Œå¦‚æœå­˜åœ¨ <code>child</code>ï¼Œåˆ™å°† <code>cur</code> æ›¿æ¢ä¸º <code>child</code>ï¼›æ²¡æœ‰ <code>child</code>ï¼Œåº”è¯¥ pop å‡ºæ ˆé¡¶çš„ <code>cur</code></li></ul></li><li><code>cur</code> æœ‰ 2 ä¸ªå­èŠ‚ç‚¹æƒ…å†µ<ul><li>åœ¨ <code>successor</code> æ›¿æ¢ <code>cur</code> åï¼Œéœ€è¦æ›´æ–°æ ˆçŠ¶æ€ï¼š<code>cur</code> æ›¿æ¢ä¸º <code>successor</code></li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰¾èŠ‚ç‚¹åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>stack</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span><span class=w> </span><span class=c1>// è®°å½•è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>pre</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>  </span><span class=c1>// æ²¡æœ‰æ‰¾åˆ°, å¿½ç•¥åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// cur å°±æ˜¯å¾…åˆ é™¤èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å¾…åˆ é™¤èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ªå­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// åˆ é™¤æ ¹èŠ‚ç‚¹, ä¸å½±å“å­æ ‘é«˜åº¦å’Œå¹³è¡¡, å¯ç›´æ¥è¿”å›</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>child</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>replaceStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span><span class=w> </span><span class=n>cur</span><span class=p>,</span><span class=w> </span><span class=n>child</span><span class=p>);</span><span class=w> </span><span class=c1>// å°†æ ˆä¸­ cur æ›¿æ¢ä¸º child</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>  </span><span class=c1>// æ ˆé¡¶ cur å·²è¢«åˆ é™¤, ä¸”æ²¡æœ‰æ–°çš„å­èŠ‚ç‚¹å…¥æ ˆ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>successorParent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>successor</span><span class=p>);</span><span class=w>  </span><span class=c1>// è®°å½•è·¯å¾„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// cur å³å­æ ‘åˆ é™¤ successor èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>successorParent</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// successor æ˜¯ cur çš„ç›´æ¥å³å­èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>successorParent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// åˆ é™¤ cur, successor æ›¿æ¢ cur</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>replaceStack</span><span class=p>(</span><span class=n>stack</span><span class=p>,</span><span class=w> </span><span class=n>cur</span><span class=p>,</span><span class=w> </span><span class=n>successor</span><span class=p>);</span><span class=w> </span><span class=c1>// å°†æ ˆä¸­ cur æ›¿æ¢ä¸º successor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// ç»´æŠ¤æ–°çš„ root(cur çš„çˆ¶èŠ‚ç‚¹)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>pre</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w> </span><span class=c1>// åˆ é™¤æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>pre</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ›´æ–°é«˜åº¦, æ—‹è½¬ç»´æŠ¤ AVL å¹³è¡¡, è‡ªåº•å‘ä¸Š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æ—‹è½¬å, å­æ ‘æ ¹èŠ‚ç‚¹å¯èƒ½å˜åŒ–, æ›´æ–°çˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡å‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>TreeNode</span><span class=w> </span><span class=n>parent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span><span class=w> </span><span class=c1>// ä¸èƒ½ pop, ä¸‹ä¸€æ¬¡ while-loop éœ€è¦æ›´æ–°é«˜åº¦å’Œæ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=n>parent</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>  </span><span class=c1>// node å³æ˜¯ AVL çš„æ ¹èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// å°† stack ä¸­ oldNode æ›¿æ¢ä¸º newNode</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>replaceStack</span><span class=p>(</span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>stack</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=n>oldNode</span><span class=p>,</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=n>newNode</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Deque</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>tempStack</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>LinkedList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>oldNode</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>newNode</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>tempStack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// å°†ä¸´æ—¶æ ˆä¸­çš„å…ƒç´ é‡æ–°å‹å…¥åŸæ ˆ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>tempStack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>tempStack</span><span class=p>.</span><span class=na>pop</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=æŸ¥æ‰¾èŠ‚ç‚¹>æŸ¥æ‰¾èŠ‚ç‚¹</h1><p>åŒ BST æŸ¥æ‰¾èŠ‚ç‚¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * BST æŸ¥æ‰¾
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @param root æ ¹èŠ‚ç‚¹
</span></span></span><span class=line><span class=cl><span class=cm> * @param num  å¾…æŸ¥æ‰¾çš„å€¼
</span></span></span><span class=line><span class=cl><span class=cm> * @return æŸ¥æ‰¾åˆ°çš„èŠ‚ç‚¹
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>search</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>num</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>cur</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>num</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>num</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=å•å…ƒæµ‹è¯•>å•å…ƒæµ‹è¯•</h1><details><summary>å•å…ƒæµ‹è¯• AVL æ’å…¥å’Œåˆ é™¤</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Solution</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>AVLTree</span><span class=w> </span><span class=n>avl</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>AVLTree</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æµ‹è¯•æ’å…¥æ“ä½œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Insert Operation:&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>insertValues</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>30</span><span class=p>,</span><span class=w> </span><span class=n>20</span><span class=p>,</span><span class=w> </span><span class=n>40</span><span class=p>,</span><span class=w> </span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>25</span><span class=p>,</span><span class=w> </span><span class=n>35</span><span class=p>,</span><span class=w> </span><span class=n>50</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>15</span><span class=p>,</span><span class=w> </span><span class=n>27</span><span class=p>,</span><span class=w> </span><span class=n>26</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>insertValues</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>avl</span><span class=p>.</span><span class=na>insert</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>levels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>avl</span><span class=p>.</span><span class=na>levelOrderTraversal</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>printLevels</span><span class=p>(</span><span class=n>levels</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æµ‹è¯•åˆ é™¤æ“ä½œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Remove Operation:&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>removeValues</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>20</span><span class=p>,</span><span class=w> </span><span class=n>30</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>27</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>removeValues</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>avl</span><span class=p>.</span><span class=na>remove</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>levels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>avl</span><span class=p>.</span><span class=na>levelOrderTraversal</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>printLevels</span><span class=p>(</span><span class=n>levels</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// æ‰“å°å±‚åºéå†ç»“æœ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>printLevels</span><span class=p>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>levels</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>level</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>levels</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>level</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>TreeNode</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TreeNode</span><span class=w> </span><span class=n>left</span><span class=p>,</span><span class=w> </span><span class=n>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>TreeNode</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>AVLTree</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>height</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>updateHeight</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>balanceFactor</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>rightRotate</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>grandChild</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>child</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>grandChild</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>child</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>leftRotate</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>grandChild</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>child</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>grandChild</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>child</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>rotate</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>balanceFactor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// å·¦åæ ‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>rightRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// LL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// LR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>leftRotate</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>rightRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å³åæ ‘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>leftRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// RR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// RL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rightRotate</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>leftRotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// å…¶ä»–æƒ…å†µæ˜¯å¹³è¡¡æ ‘ï¼Œæ— éœ€æ—‹è½¬</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>insert</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>insert</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>insert</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w> </span><span class=c1>// é‡å¤èŠ‚ç‚¹ï¼Œä¸æ’å…¥</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>  </span><span class=c1>// æ’å…¥åæ›´æ–°é«˜åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// æ—‹è½¬æ“ä½œï¼Œä½¿å­æ ‘å¹³è¡¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>TreeNode</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// æ‰¾èŠ‚ç‚¹åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>val</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// å­èŠ‚ç‚¹æœ‰ 0 æˆ– 1 ä¸ª</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>TreeNode</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>child</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w> </span><span class=c1>// æ— å­èŠ‚ç‚¹ï¼Œæ•´æ ‘åˆ é™¤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>else</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>child</span><span class=p>;</span><span class=w>  </span><span class=c1>// æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¸ºæ–°æ ¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// å­èŠ‚ç‚¹æœ‰ 2 ä¸ª</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>TreeNode</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=n>successor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w> </span><span class=c1>// æ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// åç»§èŠ‚ç‚¹æ›¿æ¢ root; å…ˆå°†å…¶ä»å³å­æ ‘åˆ é™¤, å†ç›´æ¥æ›¿ä»£ root, æœ€åéœ€è¦æŠŠ root æ›´æ–°ä¸ºåç»§èŠ‚ç‚¹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>remove</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>successor</span><span class=p>.</span><span class=na>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>successor</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>successor</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>successor</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>updateHeight</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// åˆ é™¤åæ›´æ–°é«˜åº¦</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotate</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w> </span><span class=c1>// æ—‹è½¬æ“ä½œï¼Œä½¿å­æ ‘å¹³è¡¡</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// å±‚åºéå†æ‰“å°æ ‘ç»“æ„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=nf>levelOrderTraversal</span><span class=p>(</span><span class=n>TreeNode</span><span class=w> </span><span class=n>root</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>TreeNode</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>LinkedList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>queue</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>queue</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>levelSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>queue</span><span class=p>.</span><span class=na>size</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>boolean</span><span class=w> </span><span class=n>isAllNull</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>levelSize</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>TreeNode</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>queue</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>node</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>level</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>valueOf</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>val</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>queue</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>queue</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>isAllNull</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>level</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=s>&#34;#&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isAllNull</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>result</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>level</span><span class=p>);</span><span class=w>  </span><span class=c1>// åªæ·»åŠ åŒ…å«éç©ºèŠ‚ç‚¹çš„å±‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></details><details><summary>å•å…ƒæµ‹è¯•ç»“æœ</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Insert Operation:
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 25, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 25, 35, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 25, 35, 50]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 25, 35, 50]
</span></span><span class=line><span class=cl>[5, #, #, #, #, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 25, 35, 50]
</span></span><span class=line><span class=cl>[5, 15, #, #, #, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 25, 35, 50]
</span></span><span class=line><span class=cl>[5, 15, #, 27, #, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[10, 26, 35, 50]
</span></span><span class=line><span class=cl>[5, 15, 25, 27, #, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>Remove Operation:
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[20, 40]
</span></span><span class=line><span class=cl>[15, 26, 35, 50]
</span></span><span class=line><span class=cl>[5, #, 25, 27, #, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[30]
</span></span><span class=line><span class=cl>[25, 40]
</span></span><span class=line><span class=cl>[15, 26, 35, 50]
</span></span><span class=line><span class=cl>[5, #, #, 27, #, #, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[35]
</span></span><span class=line><span class=cl>[25, 40]
</span></span><span class=line><span class=cl>[15, 26, #, 50]
</span></span><span class=line><span class=cl>[5, #, #, 27, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[35]
</span></span><span class=line><span class=cl>[25, 40]
</span></span><span class=line><span class=cl>[15, 26, #, 50]
</span></span><span class=line><span class=cl>[#, #, #, 27, #, #]
</span></span><span class=line><span class=cl>----------
</span></span><span class=line><span class=cl>[35]
</span></span><span class=line><span class=cl>[25, 40]
</span></span><span class=line><span class=cl>[15, 26, #, 50]
</span></span><span class=line><span class=cl>----------
</span></span></code></pre></td></tr></table></div></div></details><h1 id=algorithm-4th-å®ç°æºç >Algorithm 4th å®ç°æºç </h1><details><summary>Algorithm 4th AVL å®ç°æºç </summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span><span class=lnt>237
</span><span class=lnt>238
</span><span class=lnt>239
</span><span class=lnt>240
</span><span class=lnt>241
</span><span class=lnt>242
</span><span class=lnt>243
</span><span class=lnt>244
</span><span class=lnt>245
</span><span class=lnt>246
</span><span class=lnt>247
</span><span class=lnt>248
</span><span class=lnt>249
</span><span class=lnt>250
</span><span class=lnt>251
</span><span class=lnt>252
</span><span class=lnt>253
</span><span class=lnt>254
</span><span class=lnt>255
</span><span class=lnt>256
</span><span class=lnt>257
</span><span class=lnt>258
</span><span class=lnt>259
</span><span class=lnt>260
</span><span class=lnt>261
</span><span class=lnt>262
</span><span class=lnt>263
</span><span class=lnt>264
</span><span class=lnt>265
</span><span class=lnt>266
</span><span class=lnt>267
</span><span class=lnt>268
</span><span class=lnt>269
</span><span class=lnt>270
</span><span class=lnt>271
</span><span class=lnt>272
</span><span class=lnt>273
</span><span class=lnt>274
</span><span class=lnt>275
</span><span class=lnt>276
</span><span class=lnt>277
</span><span class=lnt>278
</span><span class=lnt>279
</span><span class=lnt>280
</span><span class=lnt>281
</span><span class=lnt>282
</span><span class=lnt>283
</span><span class=lnt>284
</span><span class=lnt>285
</span><span class=lnt>286
</span><span class=lnt>287
</span><span class=lnt>288
</span><span class=lnt>289
</span><span class=lnt>290
</span><span class=lnt>291
</span><span class=lnt>292
</span><span class=lnt>293
</span><span class=lnt>294
</span><span class=lnt>295
</span><span class=lnt>296
</span><span class=lnt>297
</span><span class=lnt>298
</span><span class=lnt>299
</span><span class=lnt>300
</span><span class=lnt>301
</span><span class=lnt>302
</span><span class=lnt>303
</span><span class=lnt>304
</span><span class=lnt>305
</span><span class=lnt>306
</span><span class=lnt>307
</span><span class=lnt>308
</span><span class=lnt>309
</span><span class=lnt>310
</span><span class=lnt>311
</span><span class=lnt>312
</span><span class=lnt>313
</span><span class=lnt>314
</span><span class=lnt>315
</span><span class=lnt>316
</span><span class=lnt>317
</span><span class=lnt>318
</span><span class=lnt>319
</span><span class=lnt>320
</span><span class=lnt>321
</span><span class=lnt>322
</span><span class=lnt>323
</span><span class=lnt>324
</span><span class=lnt>325
</span><span class=lnt>326
</span><span class=lnt>327
</span><span class=lnt>328
</span><span class=lnt>329
</span><span class=lnt>330
</span><span class=lnt>331
</span><span class=lnt>332
</span><span class=lnt>333
</span><span class=lnt>334
</span><span class=lnt>335
</span><span class=lnt>336
</span><span class=lnt>337
</span><span class=lnt>338
</span><span class=lnt>339
</span><span class=lnt>340
</span><span class=lnt>341
</span><span class=lnt>342
</span><span class=lnt>343
</span><span class=lnt>344
</span><span class=lnt>345
</span><span class=lnt>346
</span><span class=lnt>347
</span><span class=lnt>348
</span><span class=lnt>349
</span><span class=lnt>350
</span><span class=lnt>351
</span><span class=lnt>352
</span><span class=lnt>353
</span><span class=lnt>354
</span><span class=lnt>355
</span><span class=lnt>356
</span><span class=lnt>357
</span><span class=lnt>358
</span><span class=lnt>359
</span><span class=lnt>360
</span><span class=lnt>361
</span><span class=lnt>362
</span><span class=lnt>363
</span><span class=lnt>364
</span><span class=lnt>365
</span><span class=lnt>366
</span><span class=lnt>367
</span><span class=lnt>368
</span><span class=lnt>369
</span><span class=lnt>370
</span><span class=lnt>371
</span><span class=lnt>372
</span><span class=lnt>373
</span><span class=lnt>374
</span><span class=lnt>375
</span><span class=lnt>376
</span><span class=lnt>377
</span><span class=lnt>378
</span><span class=lnt>379
</span><span class=lnt>380
</span><span class=lnt>381
</span><span class=lnt>382
</span><span class=lnt>383
</span><span class=lnt>384
</span><span class=lnt>385
</span><span class=lnt>386
</span><span class=lnt>387
</span><span class=lnt>388
</span><span class=lnt>389
</span><span class=lnt>390
</span><span class=lnt>391
</span><span class=lnt>392
</span><span class=lnt>393
</span><span class=lnt>394
</span><span class=lnt>395
</span><span class=lnt>396
</span><span class=lnt>397
</span><span class=lnt>398
</span><span class=lnt>399
</span><span class=lnt>400
</span><span class=lnt>401
</span><span class=lnt>402
</span><span class=lnt>403
</span><span class=lnt>404
</span><span class=lnt>405
</span><span class=lnt>406
</span><span class=lnt>407
</span><span class=lnt>408
</span><span class=lnt>409
</span><span class=lnt>410
</span><span class=lnt>411
</span><span class=lnt>412
</span><span class=lnt>413
</span><span class=lnt>414
</span><span class=lnt>415
</span><span class=lnt>416
</span><span class=lnt>417
</span><span class=lnt>418
</span><span class=lnt>419
</span><span class=lnt>420
</span><span class=lnt>421
</span><span class=lnt>422
</span><span class=lnt>423
</span><span class=lnt>424
</span><span class=lnt>425
</span><span class=lnt>426
</span><span class=lnt>427
</span><span class=lnt>428
</span><span class=lnt>429
</span><span class=lnt>430
</span><span class=lnt>431
</span><span class=lnt>432
</span><span class=lnt>433
</span><span class=lnt>434
</span><span class=lnt>435
</span><span class=lnt>436
</span><span class=lnt>437
</span><span class=lnt>438
</span><span class=lnt>439
</span><span class=lnt>440
</span><span class=lnt>441
</span><span class=lnt>442
</span><span class=lnt>443
</span><span class=lnt>444
</span><span class=lnt>445
</span><span class=lnt>446
</span><span class=lnt>447
</span><span class=lnt>448
</span><span class=lnt>449
</span><span class=lnt>450
</span><span class=lnt>451
</span><span class=lnt>452
</span><span class=lnt>453
</span><span class=lnt>454
</span><span class=lnt>455
</span><span class=lnt>456
</span><span class=lnt>457
</span><span class=lnt>458
</span><span class=lnt>459
</span><span class=lnt>460
</span><span class=lnt>461
</span><span class=lnt>462
</span><span class=lnt>463
</span><span class=lnt>464
</span><span class=lnt>465
</span><span class=lnt>466
</span><span class=lnt>467
</span><span class=lnt>468
</span><span class=lnt>469
</span><span class=lnt>470
</span><span class=lnt>471
</span><span class=lnt>472
</span><span class=lnt>473
</span><span class=lnt>474
</span><span class=lnt>475
</span><span class=lnt>476
</span><span class=lnt>477
</span><span class=lnt>478
</span><span class=lnt>479
</span><span class=lnt>480
</span><span class=lnt>481
</span><span class=lnt>482
</span><span class=lnt>483
</span><span class=lnt>484
</span><span class=lnt>485
</span><span class=lnt>486
</span><span class=lnt>487
</span><span class=lnt>488
</span><span class=lnt>489
</span><span class=lnt>490
</span><span class=lnt>491
</span><span class=lnt>492
</span><span class=lnt>493
</span><span class=lnt>494
</span><span class=lnt>495
</span><span class=lnt>496
</span><span class=lnt>497
</span><span class=lnt>498
</span><span class=lnt>499
</span><span class=lnt>500
</span><span class=lnt>501
</span><span class=lnt>502
</span><span class=lnt>503
</span><span class=lnt>504
</span><span class=lnt>505
</span><span class=lnt>506
</span><span class=lnt>507
</span><span class=lnt>508
</span><span class=lnt>509
</span><span class=lnt>510
</span><span class=lnt>511
</span><span class=lnt>512
</span><span class=lnt>513
</span><span class=lnt>514
</span><span class=lnt>515
</span><span class=lnt>516
</span><span class=lnt>517
</span><span class=lnt>518
</span><span class=lnt>519
</span><span class=lnt>520
</span><span class=lnt>521
</span><span class=lnt>522
</span><span class=lnt>523
</span><span class=lnt>524
</span><span class=lnt>525
</span><span class=lnt>526
</span><span class=lnt>527
</span><span class=lnt>528
</span><span class=lnt>529
</span><span class=lnt>530
</span><span class=lnt>531
</span><span class=lnt>532
</span><span class=lnt>533
</span><span class=lnt>534
</span><span class=lnt>535
</span><span class=lnt>536
</span><span class=lnt>537
</span><span class=lnt>538
</span><span class=lnt>539
</span><span class=lnt>540
</span><span class=lnt>541
</span><span class=lnt>542
</span><span class=lnt>543
</span><span class=lnt>544
</span><span class=lnt>545
</span><span class=lnt>546
</span><span class=lnt>547
</span><span class=lnt>548
</span><span class=lnt>549
</span><span class=lnt>550
</span><span class=lnt>551
</span><span class=lnt>552
</span><span class=lnt>553
</span><span class=lnt>554
</span><span class=lnt>555
</span><span class=lnt>556
</span><span class=lnt>557
</span><span class=lnt>558
</span><span class=lnt>559
</span><span class=lnt>560
</span><span class=lnt>561
</span><span class=lnt>562
</span><span class=lnt>563
</span><span class=lnt>564
</span><span class=lnt>565
</span><span class=lnt>566
</span><span class=lnt>567
</span><span class=lnt>568
</span><span class=lnt>569
</span><span class=lnt>570
</span><span class=lnt>571
</span><span class=lnt>572
</span><span class=lnt>573
</span><span class=lnt>574
</span><span class=lnt>575
</span><span class=lnt>576
</span><span class=lnt>577
</span><span class=lnt>578
</span><span class=lnt>579
</span><span class=lnt>580
</span><span class=lnt>581
</span><span class=lnt>582
</span><span class=lnt>583
</span><span class=lnt>584
</span><span class=lnt>585
</span><span class=lnt>586
</span><span class=lnt>587
</span><span class=lnt>588
</span><span class=lnt>589
</span><span class=lnt>590
</span><span class=lnt>591
</span><span class=lnt>592
</span><span class=lnt>593
</span><span class=lnt>594
</span><span class=lnt>595
</span><span class=lnt>596
</span><span class=lnt>597
</span><span class=lnt>598
</span><span class=lnt>599
</span><span class=lnt>600
</span><span class=lnt>601
</span><span class=lnt>602
</span><span class=lnt>603
</span><span class=lnt>604
</span><span class=lnt>605
</span><span class=lnt>606
</span><span class=lnt>607
</span><span class=lnt>608
</span><span class=lnt>609
</span><span class=lnt>610
</span><span class=lnt>611
</span><span class=lnt>612
</span><span class=lnt>613
</span><span class=lnt>614
</span><span class=lnt>615
</span><span class=lnt>616
</span><span class=lnt>617
</span><span class=lnt>618
</span><span class=lnt>619
</span><span class=lnt>620
</span><span class=lnt>621
</span><span class=lnt>622
</span><span class=lnt>623
</span><span class=lnt>624
</span><span class=lnt>625
</span><span class=lnt>626
</span><span class=lnt>627
</span><span class=lnt>628
</span><span class=lnt>629
</span><span class=lnt>630
</span><span class=lnt>631
</span><span class=lnt>632
</span><span class=lnt>633
</span><span class=lnt>634
</span><span class=lnt>635
</span><span class=lnt>636
</span><span class=lnt>637
</span><span class=lnt>638
</span><span class=lnt>639
</span><span class=lnt>640
</span><span class=lnt>641
</span><span class=lnt>642
</span><span class=lnt>643
</span><span class=lnt>644
</span><span class=lnt>645
</span><span class=lnt>646
</span><span class=lnt>647
</span><span class=lnt>648
</span><span class=lnt>649
</span><span class=lnt>650
</span><span class=lnt>651
</span><span class=lnt>652
</span><span class=lnt>653
</span><span class=lnt>654
</span><span class=lnt>655
</span><span class=lnt>656
</span><span class=lnt>657
</span><span class=lnt>658
</span><span class=lnt>659
</span><span class=lnt>660
</span><span class=lnt>661
</span><span class=lnt>662
</span><span class=lnt>663
</span><span class=lnt>664
</span><span class=lnt>665
</span><span class=lnt>666
</span><span class=lnt>667
</span><span class=lnt>668
</span><span class=lnt>669
</span><span class=lnt>670
</span><span class=lnt>671
</span><span class=lnt>672
</span><span class=lnt>673
</span><span class=lnt>674
</span><span class=lnt>675
</span><span class=lnt>676
</span><span class=lnt>677
</span><span class=lnt>678
</span><span class=lnt>679
</span><span class=lnt>680
</span><span class=lnt>681
</span><span class=lnt>682
</span><span class=lnt>683
</span><span class=lnt>684
</span><span class=lnt>685
</span><span class=lnt>686
</span><span class=lnt>687
</span><span class=lnt>688
</span><span class=lnt>689
</span><span class=lnt>690
</span><span class=lnt>691
</span><span class=lnt>692
</span><span class=lnt>693
</span><span class=lnt>694
</span><span class=lnt>695
</span><span class=lnt>696
</span><span class=lnt>697
</span><span class=lnt>698
</span><span class=lnt>699
</span><span class=lnt>700
</span><span class=lnt>701
</span><span class=lnt>702
</span><span class=lnt>703
</span><span class=lnt>704
</span><span class=lnt>705
</span><span class=lnt>706
</span><span class=lnt>707
</span><span class=lnt>708
</span><span class=lnt>709
</span><span class=lnt>710
</span><span class=lnt>711
</span><span class=lnt>712
</span><span class=lnt>713
</span><span class=lnt>714
</span><span class=lnt>715
</span><span class=lnt>716
</span><span class=lnt>717
</span><span class=lnt>718
</span><span class=lnt>719
</span><span class=lnt>720
</span><span class=lnt>721
</span><span class=lnt>722
</span><span class=lnt>723
</span><span class=lnt>724
</span><span class=lnt>725
</span><span class=lnt>726
</span><span class=lnt>727
</span><span class=lnt>728
</span><span class=lnt>729
</span><span class=lnt>730
</span><span class=lnt>731
</span><span class=lnt>732
</span><span class=lnt>733
</span><span class=lnt>734
</span><span class=lnt>735
</span><span class=lnt>736
</span><span class=lnt>737
</span><span class=lnt>738
</span><span class=lnt>739
</span><span class=lnt>740
</span><span class=lnt>741
</span><span class=lnt>742
</span><span class=lnt>743
</span><span class=lnt>744
</span><span class=lnt>745
</span><span class=lnt>746
</span><span class=lnt>747
</span><span class=lnt>748
</span><span class=lnt>749
</span><span class=lnt>750
</span><span class=lnt>751
</span><span class=lnt>752
</span><span class=lnt>753
</span><span class=lnt>754
</span><span class=lnt>755
</span><span class=lnt>756
</span><span class=lnt>757
</span><span class=lnt>758
</span><span class=lnt>759
</span><span class=lnt>760
</span><span class=lnt>761
</span><span class=lnt>762
</span><span class=lnt>763
</span><span class=lnt>764
</span><span class=lnt>765
</span><span class=lnt>766
</span><span class=lnt>767
</span><span class=lnt>768
</span><span class=lnt>769
</span><span class=lnt>770
</span><span class=lnt>771
</span><span class=lnt>772
</span><span class=lnt>773
</span><span class=lnt>774
</span><span class=lnt>775
</span><span class=lnt>776
</span><span class=lnt>777
</span><span class=lnt>778
</span><span class=lnt>779
</span><span class=lnt>780
</span><span class=lnt>781
</span><span class=lnt>782
</span><span class=lnt>783
</span><span class=lnt>784
</span><span class=lnt>785
</span><span class=lnt>786
</span><span class=lnt>787
</span><span class=lnt>788
</span><span class=lnt>789
</span><span class=lnt>790
</span><span class=lnt>791
</span><span class=lnt>792
</span><span class=lnt>793
</span><span class=lnt>794
</span><span class=lnt>795
</span><span class=lnt>796
</span><span class=lnt>797
</span><span class=lnt>798
</span><span class=lnt>799
</span><span class=lnt>800
</span><span class=lnt>801
</span><span class=lnt>802
</span><span class=lnt>803
</span><span class=lnt>804
</span><span class=lnt>805
</span><span class=lnt>806
</span><span class=lnt>807
</span><span class=lnt>808
</span><span class=lnt>809
</span><span class=lnt>810
</span><span class=lnt>811
</span><span class=lnt>812
</span><span class=lnt>813
</span><span class=lnt>814
</span><span class=lnt>815
</span><span class=lnt>816
</span><span class=lnt>817
</span><span class=lnt>818
</span><span class=lnt>819
</span><span class=lnt>820
</span><span class=lnt>821
</span><span class=lnt>822
</span><span class=lnt>823
</span><span class=lnt>824
</span><span class=lnt>825
</span><span class=lnt>826
</span><span class=lnt>827
</span><span class=lnt>828
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/******************************************************************************
</span></span></span><span class=line><span class=cl><span class=cm> *  Compilation:  javac AVLTreeST.java
</span></span></span><span class=line><span class=cl><span class=cm> *  Execution:    java AVLTreeST &lt; input.txt
</span></span></span><span class=line><span class=cl><span class=cm> *  Dependencies: StdIn.java StdOut.java  
</span></span></span><span class=line><span class=cl><span class=cm> *  Data files:   https://algs4.cs.princeton.edu/33balanced/tinyST.txt 
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  A symbol table implemented using an AVL tree.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  % more tinyST.txt
</span></span></span><span class=line><span class=cl><span class=cm> *  S E A R C H E X A M P L E
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  % java AVLTreeST &lt; tinyST.txt
</span></span></span><span class=line><span class=cl><span class=cm> *  A 8
</span></span></span><span class=line><span class=cl><span class=cm> *  C 4
</span></span></span><span class=line><span class=cl><span class=cm> *  E 12
</span></span></span><span class=line><span class=cl><span class=cm> *  H 5
</span></span></span><span class=line><span class=cl><span class=cm> *  L 11
</span></span></span><span class=line><span class=cl><span class=cm> *  M 9
</span></span></span><span class=line><span class=cl><span class=cm> *  P 10
</span></span></span><span class=line><span class=cl><span class=cm> *  R 3
</span></span></span><span class=line><span class=cl><span class=cm> *  S 0
</span></span></span><span class=line><span class=cl><span class=cm> *  X 7
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> ******************************************************************************/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>package</span><span class=w> </span><span class=nn>edu.princeton.cs.algs4</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.util.NoSuchElementException</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> *  The {@code AVLTreeST} class represents an ordered symbol table of
</span></span></span><span class=line><span class=cl><span class=cm> *  generic key-value pairs. It supports the usual &lt;em&gt;put&lt;/em&gt;, &lt;em&gt;get&lt;/em&gt;,
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;em&gt;contains&lt;/em&gt;, &lt;em&gt;delete&lt;/em&gt;, &lt;em&gt;size&lt;/em&gt;, and &lt;em&gt;is-empty&lt;/em&gt;
</span></span></span><span class=line><span class=cl><span class=cm> *  methods. It also provides ordered methods for finding the &lt;em&gt;minimum&lt;/em&gt;,
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;em&gt;maximum&lt;/em&gt;, &lt;em&gt;floor&lt;/em&gt;, and &lt;em&gt;ceiling&lt;/em&gt;. It also provides a
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;em&gt;keys&lt;/em&gt; method for iterating over all of the keys. A symbol table
</span></span></span><span class=line><span class=cl><span class=cm> *  implements the &lt;em&gt;associative array&lt;/em&gt; abstraction: when associating a
</span></span></span><span class=line><span class=cl><span class=cm> *  value with a key that is already in the symbol table, the convention is to
</span></span></span><span class=line><span class=cl><span class=cm> *  replace the old value with the new value. Unlike {@link java.util.Map}, this
</span></span></span><span class=line><span class=cl><span class=cm> *  class uses the convention that values cannot be {@code null}
</span></span></span><span class=line><span class=cl><span class=cm> *  â€”setting the value associated with a key to {@code null} is
</span></span></span><span class=line><span class=cl><span class=cm> *  equivalent to deleting the key from the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;p&gt;
</span></span></span><span class=line><span class=cl><span class=cm> *  This symbol table implementation uses internally an
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;a href=&#34;https://en.wikipedia.org/wiki/AVL_tree&#34;&gt; AVL tree &lt;/a&gt; (Georgy
</span></span></span><span class=line><span class=cl><span class=cm> *  Adelson-Velsky and Evgenii Landis&#39; tree) which is a self-balancing BST.
</span></span></span><span class=line><span class=cl><span class=cm> *  In an AVL tree, the heights of the two child subtrees of any
</span></span></span><span class=line><span class=cl><span class=cm> *  node differ by at most one; if at any time they differ by more than one,
</span></span></span><span class=line><span class=cl><span class=cm> *  rebalancing is done to restore this property.
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;p&gt;
</span></span></span><span class=line><span class=cl><span class=cm> *  This implementation requires that the key type implements the
</span></span></span><span class=line><span class=cl><span class=cm> *  {@code Comparable} interface and calls the {@code compareTo()} and
</span></span></span><span class=line><span class=cl><span class=cm> *  method to compare two keys. It does not call either {@code equals()} or
</span></span></span><span class=line><span class=cl><span class=cm> *  {@code hashCode()}. The &lt;em&gt;put&lt;/em&gt;, &lt;em&gt;get&lt;/em&gt;, &lt;em&gt;contains&lt;/em&gt;,
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;em&gt;delete&lt;/em&gt;, &lt;em&gt;minimum&lt;/em&gt;, &lt;em&gt;maximum&lt;/em&gt;, &lt;em&gt;ceiling&lt;/em&gt;, and
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;em&gt;floor&lt;/em&gt; operations each take logarithmic time in the worst case. The
</span></span></span><span class=line><span class=cl><span class=cm> *  &lt;em&gt;size&lt;/em&gt;, and &lt;em&gt;is-empty&lt;/em&gt; operations take constant time.
</span></span></span><span class=line><span class=cl><span class=cm> *  Construction also takes constant time.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  For other implementations of the same API, see {@link ST}, {@link BinarySearchST},
</span></span></span><span class=line><span class=cl><span class=cm> *  {@link SequentialSearchST}, {@link BST}, {@link RedBlackBST},
</span></span></span><span class=line><span class=cl><span class=cm> *  {@link SeparateChainingHashST}, and {@link LinearProbingHashST}.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  @author Marcelo Silva
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>AVLTreeST</span><span class=o>&lt;</span><span class=n>Key</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Comparable</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=n>Value</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * The root node.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=n>root</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * This class represents an inner node of the AVL tree.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>class</span> <span class=nc>Node</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>   </span><span class=c1>// the key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>Value</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>       </span><span class=c1>// the associated value</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>      </span><span class=c1>// height of the subtree</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>;</span><span class=w>        </span><span class=c1>// number of nodes in subtree</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=n>left</span><span class=p>;</span><span class=w>       </span><span class=c1>// left subtree</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=n>right</span><span class=p>;</span><span class=w>      </span><span class=c1>// right subtree</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=nf>Node</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Value</span><span class=w> </span><span class=n>val</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>size</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>size</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Initializes an empty symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>AVLTreeST</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if the symbol table is empty.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if the symbol table is empty.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isEmpty</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the number key-value pairs in the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the number key-value pairs in the symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>size</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the number of nodes in the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the number of nodes in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>size</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the height of the internal AVL tree. It is assumed that the
</span></span></span><span class=line><span class=cl><span class=cm>     * height of an empty tree is -1 and the height of a tree with just one node
</span></span></span><span class=line><span class=cl><span class=cm>     * is 0.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the height of the internal AVL tree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>height</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the height of the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the height of the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>height</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the value associated with the given key.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the value associated with the given key if the key is in the
</span></span></span><span class=line><span class=cl><span class=cm>     *         symbol table and {@code null} if the key is not in the
</span></span></span><span class=line><span class=cl><span class=cm>     *         symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Value</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;argument to get() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>get</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns value associated with the given key in the subtree or
</span></span></span><span class=line><span class=cl><span class=cm>     * {@code null} if no such key.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return value associated with the given key in the subtree or
</span></span></span><span class=line><span class=cl><span class=cm>     *         {@code null} if no such key
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>get</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>get</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if the symbol table contains the given key.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if the symbol table contains {@code key}
</span></span></span><span class=line><span class=cl><span class=cm>     *         and {@code false} otherwise
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>contains</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Inserts the specified key-value pair into the symbol table, overwriting
</span></span></span><span class=line><span class=cl><span class=cm>     * the old value with the new value if the symbol table already contains the
</span></span></span><span class=line><span class=cl><span class=cm>     * specified key. Deletes the specified key (and its associated value) from
</span></span></span><span class=line><span class=cl><span class=cm>     * this symbol table if the specified value is {@code null}.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param val the value
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>put</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Value</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;first argument to put() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>val</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>delete</span><span class=p>(</span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>put</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>assert</span><span class=w> </span><span class=n>check</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Inserts the key-value pair in the subtree. It overrides the old value
</span></span></span><span class=line><span class=cl><span class=cm>     * with the new value if the symbol table already contains the specified key
</span></span></span><span class=line><span class=cl><span class=cm>     * and deletes the specified key (and its associated value) from this symbol
</span></span></span><span class=line><span class=cl><span class=cm>     * table if the specified value is {@code null}.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param val the value
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>put</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Value</span><span class=w> </span><span class=n>val</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>put</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>put</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>val</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=p>.</span><span class=na>val</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>val</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>balance</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Restores the AVL tree property of the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the subtree with restored AVL property
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>balance</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotateRight</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotateLeft</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotateLeft</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotateRight</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the balance factor of the subtree. The balance factor is defined
</span></span></span><span class=line><span class=cl><span class=cm>     * as the difference in height of the left subtree and right subtree, in
</span></span></span><span class=line><span class=cl><span class=cm>     * this order. Therefore, a subtree with a balance factor of -1, 0 or 1 has
</span></span></span><span class=line><span class=cl><span class=cm>     * the AVL property since the heights of the two child subtrees differ by at
</span></span></span><span class=line><span class=cl><span class=cm>     * most one.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the balance factor of the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>balanceFactor</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Rotates the given subtree to the right.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the right rotated subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>rotateRight</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>y</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>y</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>y</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>y</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>y</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Rotates the given subtree to the left.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the left rotated subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>rotateLeft</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>y</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>y</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>y</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>y</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>y</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Removes the specified key and its associated value from the symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     * (if the key is in the symbol table).
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;argument to delete() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>contains</span><span class=p>(</span><span class=n>key</span><span class=p>))</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>delete</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>assert</span><span class=w> </span><span class=n>check</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Removes the specified key and its associated value from the given
</span></span></span><span class=line><span class=cl><span class=cm>     * subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the updated subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>delete</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>delete</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>Node</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>min</span><span class=p>(</span><span class=n>y</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>deleteMin</span><span class=p>(</span><span class=n>y</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>balance</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Removes the smallest key and associated value from the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws NoSuchElementException if the symbol table is empty
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>deleteMin</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NoSuchElementException</span><span class=p>(</span><span class=s>&#34;called deleteMin() with empty symbol table&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>deleteMin</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>assert</span><span class=w> </span><span class=n>check</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Removes the smallest key and associated value from the given subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the updated subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>deleteMin</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>deleteMin</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>balance</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Removes the largest key and associated value from the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws NoSuchElementException if the symbol table is empty
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>deleteMax</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NoSuchElementException</span><span class=p>(</span><span class=s>&#34;called deleteMax() with empty symbol table&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>root</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>deleteMax</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>assert</span><span class=w> </span><span class=n>check</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Removes the largest key and associated value from the given subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the updated subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>deleteMax</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>deleteMax</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>x</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>),</span><span class=w> </span><span class=n>height</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>balance</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the smallest key in the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the smallest key in the symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws NoSuchElementException if the symbol table is empty
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=nf>min</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NoSuchElementException</span><span class=p>(</span><span class=s>&#34;called min() with empty symbol table&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>min</span><span class=p>(</span><span class=n>root</span><span class=p>).</span><span class=na>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the node with the smallest key in the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the node with the smallest key in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>min</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>min</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the largest key in the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the largest key in the symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws NoSuchElementException if the symbol table is empty
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=nf>max</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NoSuchElementException</span><span class=p>(</span><span class=s>&#34;called max() with empty symbol table&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>max</span><span class=p>(</span><span class=n>root</span><span class=p>).</span><span class=na>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the node with the largest key in the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the node with the largest key in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>max</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>max</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the largest key in the symbol table less than or equal to
</span></span></span><span class=line><span class=cl><span class=cm>     * {@code key}.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the largest key in the symbol table less than or equal to
</span></span></span><span class=line><span class=cl><span class=cm>     *         {@code key}
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws NoSuchElementException if the symbol table is empty
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=nf>floor</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;argument to floor() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NoSuchElementException</span><span class=p>(</span><span class=s>&#34;called floor() with empty symbol table&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>floor</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the node in the subtree with the largest key less than or equal
</span></span></span><span class=line><span class=cl><span class=cm>     * to the given key.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the node in the subtree with the largest key less than or equal
</span></span></span><span class=line><span class=cl><span class=cm>     *         to the given key
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>floor</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>floor</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>floor</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>y</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the smallest key in the symbol table greater than or equal to
</span></span></span><span class=line><span class=cl><span class=cm>     * {@code key}.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the smallest key in the symbol table greater than or equal to
</span></span></span><span class=line><span class=cl><span class=cm>     *         {@code key}
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws NoSuchElementException if the symbol table is empty
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=nf>ceiling</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;argument to ceiling() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NoSuchElementException</span><span class=p>(</span><span class=s>&#34;called ceiling() with empty symbol table&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ceiling</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the node in the subtree with the smallest key greater than or
</span></span></span><span class=line><span class=cl><span class=cm>     * equal to the given key.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the node in the subtree with the smallest key greater than or
</span></span></span><span class=line><span class=cl><span class=cm>     *         equal to the given key
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>ceiling</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>ceiling</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ceiling</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>y</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the kth smallest key in the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param k the order statistic
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the kth smallest key in the symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException unless {@code k} is between 0 and
</span></span></span><span class=line><span class=cl><span class=cm>     *             {@code size() -1 }
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=nf>select</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>k</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>k</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>size</span><span class=p>())</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;k is not in range 0-&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>1</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>select</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the node with key the kth smallest key in the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param k the kth smallest key in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the node with key the kth smallest key in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=nf>select</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>k</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>t</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>k</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>select</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>t</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>k</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>select</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>1</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the number of keys in the symbol table strictly less than
</span></span></span><span class=line><span class=cl><span class=cm>     * {@code key}.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the number of keys in the symbol table strictly less than
</span></span></span><span class=line><span class=cl><span class=cm>     *         {@code key}
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if {@code key} is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>rank</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;argument to rank() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the number of keys in the subtree less than key.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param key the key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the number of keys in the subtree less than key
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>rank</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmp</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns all keys in the symbol table.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return all keys in the symbol table
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=nf>keys</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>keysInOrder</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns all keys in the symbol table following an in-order traversal.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return all keys in the symbol table following an in-order traversal
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=nf>keysInOrder</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>keysInOrder</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>queue</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>queue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Adds the keys in the subtree to queue following an in-order traversal.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param queue the queue
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>keysInOrder</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>keysInOrder</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>queue</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>queue</span><span class=p>.</span><span class=na>enqueue</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>keysInOrder</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>queue</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns all keys in the symbol table following a level-order traversal.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return all keys in the symbol table following a level-order traversal.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=nf>keysLevelOrder</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Node</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Node</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>queue2</span><span class=p>.</span><span class=na>enqueue</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>queue2</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>queue2</span><span class=p>.</span><span class=na>dequeue</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>queue</span><span class=p>.</span><span class=na>enqueue</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>queue2</span><span class=p>.</span><span class=na>enqueue</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>queue2</span><span class=p>.</span><span class=na>enqueue</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>queue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns all keys in the symbol table in the given range.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param lo the lowest key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param hi the highest key
</span></span></span><span class=line><span class=cl><span class=cm>     * @return all keys in the symbol table between {@code lo} (inclusive)
</span></span></span><span class=line><span class=cl><span class=cm>     *         and {@code hi} (exclusive)
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if either {@code lo} or {@code hi}
</span></span></span><span class=line><span class=cl><span class=cm>     *             is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=nf>keys</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>lo</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>hi</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lo</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;first argument to keys() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>hi</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;second argument to keys() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>keys</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>lo</span><span class=p>,</span><span class=w> </span><span class=n>hi</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>queue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Adds the keys between {@code lo} and {@code hi} in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * to the {@code queue}.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param queue the queue
</span></span></span><span class=line><span class=cl><span class=cm>     * @param lo the lowest key
</span></span></span><span class=line><span class=cl><span class=cm>     * @param hi the highest key
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>keys</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Key</span><span class=o>&gt;</span><span class=w> </span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>lo</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>hi</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmplo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lo</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cmphi</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hi</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmplo</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=n>keys</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>lo</span><span class=p>,</span><span class=w> </span><span class=n>hi</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmplo</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>cmphi</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=n>queue</span><span class=p>.</span><span class=na>enqueue</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>cmphi</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=n>keys</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>queue</span><span class=p>,</span><span class=w> </span><span class=n>lo</span><span class=p>,</span><span class=w> </span><span class=n>hi</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Returns the number of keys in the symbol table in the given range.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param lo minimum endpoint
</span></span></span><span class=line><span class=cl><span class=cm>     * @param hi maximum endpoint
</span></span></span><span class=line><span class=cl><span class=cm>     * @return the number of keys in the symbol table between {@code lo}
</span></span></span><span class=line><span class=cl><span class=cm>     *         (inclusive) and {@code hi} (exclusive)
</span></span></span><span class=line><span class=cl><span class=cm>     * @throws IllegalArgumentException if either {@code lo} or {@code hi}
</span></span></span><span class=line><span class=cl><span class=cm>     *             is {@code null}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>size</span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>lo</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>hi</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lo</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;first argument to size() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>hi</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;second argument to size() is null&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>lo</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>hi</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>contains</span><span class=p>(</span><span class=n>hi</span><span class=p>))</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>hi</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>lo</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>hi</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>lo</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if the AVL tree invariants are fine.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if the AVL tree invariants are fine
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>check</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isBST</span><span class=p>())</span><span class=w> </span><span class=n>StdOut</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Symmetric order not consistent&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isAVL</span><span class=p>())</span><span class=w> </span><span class=n>StdOut</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;AVL property not consistent&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isSizeConsistent</span><span class=p>())</span><span class=w> </span><span class=n>StdOut</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Subtree counts not consistent&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isRankConsistent</span><span class=p>())</span><span class=w> </span><span class=n>StdOut</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Ranks not consistent&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isBST</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>isAVL</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>isSizeConsistent</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>isRankConsistent</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if AVL property is consistent.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if AVL property is consistent.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isAVL</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isAVL</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if AVL property is consistent in the subtree.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if AVL property is consistent in the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isAVL</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>bf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balanceFactor</span><span class=p>(</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>bf</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>bf</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isAVL</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>isAVL</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if the symmetric order is consistent.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if the symmetric order is consistent
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isBST</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isBST</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if the tree rooted at x is a BST with all keys strictly between
</span></span></span><span class=line><span class=cl><span class=cm>     * min and max (if min or max is null, treat as empty constraint) Credit:
</span></span></span><span class=line><span class=cl><span class=cm>     * Bob Dondero&#39;s elegant solution
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param x the subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param min the minimum key in subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @param max the maximum key in subtree
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if if the symmetric order is consistent
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isBST</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>min</span><span class=p>,</span><span class=w> </span><span class=n>Key</span><span class=w> </span><span class=n>max</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>min</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>min</span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>max</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>max</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isBST</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>,</span><span class=w> </span><span class=n>min</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>isBST</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=na>key</span><span class=p>,</span><span class=w> </span><span class=n>max</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if size is consistent.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if size is consistent
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isSizeConsistent</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isSizeConsistent</span><span class=p>(</span><span class=n>root</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if the size of the subtree is consistent.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if the size of the subtree is consistent
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isSizeConsistent</span><span class=p>(</span><span class=n>Node</span><span class=w> </span><span class=n>x</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>size</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>size</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>isSizeConsistent</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>left</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>isSizeConsistent</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=na>right</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Checks if rank is consistent.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @return {@code true} if rank is consistent
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isRankConsistent</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>rank</span><span class=p>(</span><span class=n>select</span><span class=p>(</span><span class=n>i</span><span class=p>)))</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Key</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>keys</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=n>select</span><span class=p>(</span><span class=n>rank</span><span class=p>(</span><span class=n>key</span><span class=p>)))</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Unit tests the {@code AVLTreeST} data type.
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * @param args the command-line arguments
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>AVLTreeST</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>st</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>AVLTreeST</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=o>!</span><span class=n>StdIn</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>StdIn</span><span class=p>.</span><span class=na>readString</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>st</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=na>keys</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>StdOut</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>s</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34; &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>st</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>s</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>StdOut</span><span class=p>.</span><span class=na>println</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cm>/******************************************************************************
</span></span></span><span class=line><span class=cl><span class=cm> *  Copyright 2002-2022, Robert Sedgewick and Kevin Wayne.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  This file is part of algs4.jar, which accompanies the textbook
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *      Algorithms, 4th edition by Robert Sedgewick and Kevin Wayne,
</span></span></span><span class=line><span class=cl><span class=cm> *      Addison-Wesley Professional, 2011, ISBN 0-321-57351-X.
</span></span></span><span class=line><span class=cl><span class=cm> *      http://algs4.cs.princeton.edu
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  algs4.jar is free software: you can redistribute it and/or modify
</span></span></span><span class=line><span class=cl><span class=cm> *  it under the terms of the GNU General Public License as published by
</span></span></span><span class=line><span class=cl><span class=cm> *  the Free Software Foundation, either version 3 of the License, or
</span></span></span><span class=line><span class=cl><span class=cm> *  (at your option) any later version.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  algs4.jar is distributed in the hope that it will be useful,
</span></span></span><span class=line><span class=cl><span class=cm> *  but WITHOUT ANY WARRANTY; without even the implied warranty of
</span></span></span><span class=line><span class=cl><span class=cm> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</span></span></span><span class=line><span class=cl><span class=cm> *  GNU General Public License for more details.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *  You should have received a copy of the GNU General Public License
</span></span></span><span class=line><span class=cl><span class=cm> *  along with algs4.jar.  If not, see http://www.gnu.org/licenses.
</span></span></span><span class=line><span class=cl><span class=cm> ******************************************************************************/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></details><h1 id=reference>Reference</h1><ul><li><a class=link href=https://algs4.cs.princeton.edu/code/edu/princeton/cs/algs4/AVLTreeST.java.html target=_blank rel=noopener>algo4 çš„å®ç°æºç </a></li><li><a class=link href=https://www.hello-algo.com/chapter_tree/avl_tree target=_blank rel=noopener>https://www.hello-algo.com/chapter_tree/avl_tree</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/bst/>BST</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/red-black-tree-source-code-analysis/><div class=article-image><img src=/post/red-black-tree-source-code-analysis/RedBlackTree-icon.79366ab70fffe90ffa788e94dfb9621b_hu14049417727855588455.png width=250 height=150 loading=lazy alt="Featured image of post çº¢é»‘æ ‘æºç è§£æ" data-key=Red-black-tree-source-code-analysis data-hash="md5-eTZqtw//6Q/6eI6U37liGw=="></div><div class=article-details><h2 class=article-title>çº¢é»‘æ ‘æºç è§£æ</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Capriwits's site</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>